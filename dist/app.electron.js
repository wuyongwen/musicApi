!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var n in r)("object"==typeof exports?exports:e)[n]=r[n]}}(window,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=14)}([function(e,t,r){e.exports=r(9)},function(e,t){function r(e,t,r,n,a,i,o){try{var s=e[i](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,a)}e.exports=function(e){return function(){var t=this,n=arguments;return new Promise(function(a,i){var o=e.apply(t,n);function s(e){r(o,a,i,s,u,"next",e)}function u(e){r(o,a,i,s,u,"throw",e)}s(void 0)})}}},function(e,t,r){"use strict";function n(){var e=["Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 9_1 like Mac OS X) AppleWebKit/601.1.46 (KHTML, like Gecko) Version/9.0 Mobile/13B143 Safari/601.1","Mozilla/5.0 (iPhone; CPU iPhone OS 9_1 like Mac OS X) AppleWebKit/601.1.46 (KHTML, like Gecko) Version/9.0 Mobile/13B143 Safari/601.1","Mozilla/5.0 (Linux; Android 5.0; SM-G900P Build/LRX21T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 5.1.1; Nexus 6 Build/LYZ28E) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_2 like Mac OS X) AppleWebKit/603.2.4 (KHTML, like Gecko) Mobile/14F89;GameHelper","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_5) AppleWebKit/603.2.4 (KHTML, like Gecko) Version/10.1.1 Safari/603.2.4","Mozilla/5.0 (iPhone; CPU iPhone OS 10_0 like Mac OS X) AppleWebKit/602.1.38 (KHTML, like Gecko) Version/10.0 Mobile/14A300 Safari/602.1","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.103 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10.12; rv:46.0) Gecko/20100101 Firefox/46.0","Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:46.0) Gecko/20100101 Firefox/46.0","Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 6.0)","Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.0; Trident/4.0)","Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Trident/5.0)","Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.2; Win64; x64; Trident/6.0)","Mozilla/5.0 (Windows NT 6.3; Win64, x64; Trident/7.0; rv:11.0) like Gecko","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/42.0.2311.135 Safari/537.36 Edge/13.10586","Mozilla/5.0 (iPad; CPU OS 10_0 like Mac OS X) AppleWebKit/602.1.38 (KHTML, like Gecko) Version/10.0 Mobile/14A300 Safari/602.1"];return e[Math.floor(Math.random()*e.length)]}function a(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return t?{lyric:[],translate:[]}:[];var r=e.replace(/\<\d+\>/g,"").split("\n"),n=[],a=[];return r.forEach(function(e,i){var o=e.match(/((\[\d+:\d+\.\d+\])+)(.*)/);o&&o[1]&&o[1].match(/\[\d+:\d+\.\d+\]/g).forEach(function(e){if(n.push([e.substring(1,e.length-1),o[3]]),t&&r[i+1]){var s=r[i+1].match(/(\[x\-trans\])(.*)/);s&&s[2]?a.push([e.substring(1,e.length-1),s[2]]):a.push([e.substring(1,e.length-1),""])}else a.push([e.substring(1,e.length-1),""])})}),t&&0===a.filter(function(e){return e[1]}).length&&(a=[]),t?{lyric:n.sort(),translate:a.sort()}:n.sort()}r.d(t,"d",function(){return n}),r.d(t,"b",function(){return a}),r.d(t,"c",function(){return i}),r.d(t,"a",function(){return s});var i="无法获取信息，请检查songId";function o(e,t){return Array.apply(null,{length:t}).map(function(){return e[Math.floor(Math.random()*e.length)]}).join("")}function s(e){var t=(e||"").split(/;\s*/).map(function(e){return e.split("=")[0]}),r=[],n=(new Date).getTime();if(!t.includes("JSESSIONID-WYYY")){var a=new Date(n+18e5),i=o("0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKMNOPQRSTUVWXYZ\\/+",176)+":"+a.getTime();r.push(["JSESSIONID-WYYY="+i,"Expires="+a.toGMTString()])}if(!t.includes("_iuqxldmzr_")){var s=new Date(n+15768e7);r.push(["_iuqxldmzr_=32","Expires="+s.toGMTString()])}if(!t.includes("_ntes_nnid")||!t.includes("_ntes_nuid")){var u=new Date(n+31536e8),c=o("0123456789abcdefghijklmnopqrstuvwxyz",32)+","+n;r.push(["_ntes_nnid="+c,"Expires="+u.toGMTString()]),r.push(["_ntes_nuid="+c.slice(0,32),"Expires="+u.toGMTString()])}return r.map(function(e){return e[0]}).join("; ")}},function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t){e.exports=require("crypto")},function(module,exports,__webpack_require__){(function(module){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,bigInt=function(undefined){"use strict";var BASE=1e7,LOG_BASE=7,MAX_INT=9007199254740992,MAX_INT_ARR=smallToArray(MAX_INT),DEFAULT_ALPHABET="0123456789abcdefghijklmnopqrstuvwxyz",supportsNativeBigInt="function"==typeof BigInt,pow;function Integer(e,t,r,n){return void 0===e?Integer[0]:void 0!==t&&(10!=+t||r)?parseBase(e,t,r,n):parseValue(e)}function BigInteger(e,t){this.value=e,this.sign=t,this.isSmall=!1}function SmallInteger(e){this.value=e,this.sign=e<0,this.isSmall=!0}function NativeBigInt(e){this.value=e}function isPrecise(e){return-MAX_INT<e&&e<MAX_INT}function smallToArray(e){return e<1e7?[e]:e<1e14?[e%1e7,Math.floor(e/1e7)]:[e%1e7,Math.floor(e/1e7)%1e7,Math.floor(e/1e14)]}function arrayToSmall(e){trim(e);var t=e.length;if(t<4&&compareAbs(e,MAX_INT_ARR)<0)switch(t){case 0:return 0;case 1:return e[0];case 2:return e[0]+e[1]*BASE;default:return e[0]+(e[1]+e[2]*BASE)*BASE}return e}function trim(e){for(var t=e.length;0===e[--t];);e.length=t+1}function createArray(e){for(var t=new Array(e),r=-1;++r<e;)t[r]=0;return t}function truncate(e){return e>0?Math.floor(e):Math.ceil(e)}function add(e,t){var r,n,a=e.length,i=t.length,o=new Array(a),s=0,u=BASE;for(n=0;n<i;n++)s=(r=e[n]+t[n]+s)>=u?1:0,o[n]=r-s*u;for(;n<a;)s=(r=e[n]+s)===u?1:0,o[n++]=r-s*u;return s>0&&o.push(s),o}function addAny(e,t){return e.length>=t.length?add(e,t):add(t,e)}function addSmall(e,t){var r,n,a=e.length,i=new Array(a),o=BASE;for(n=0;n<a;n++)r=e[n]-o+t,t=Math.floor(r/o),i[n]=r-t*o,t+=1;for(;t>0;)i[n++]=t%o,t=Math.floor(t/o);return i}function subtract(e,t){var r,n,a=e.length,i=t.length,o=new Array(a),s=0,u=BASE;for(r=0;r<i;r++)(n=e[r]-s-t[r])<0?(n+=u,s=1):s=0,o[r]=n;for(r=i;r<a;r++){if(!((n=e[r]-s)<0)){o[r++]=n;break}n+=u,o[r]=n}for(;r<a;r++)o[r]=e[r];return trim(o),o}function subtractAny(e,t,r){var n;return compareAbs(e,t)>=0?n=subtract(e,t):(n=subtract(t,e),r=!r),"number"==typeof(n=arrayToSmall(n))?(r&&(n=-n),new SmallInteger(n)):new BigInteger(n,r)}function subtractSmall(e,t,r){var n,a,i=e.length,o=new Array(i),s=-t,u=BASE;for(n=0;n<i;n++)a=e[n]+s,s=Math.floor(a/u),a%=u,o[n]=a<0?a+u:a;return"number"==typeof(o=arrayToSmall(o))?(r&&(o=-o),new SmallInteger(o)):new BigInteger(o,r)}function multiplyLong(e,t){var r,n,a,i,o=e.length,s=t.length,u=createArray(o+s),c=BASE;for(a=0;a<o;++a){i=e[a];for(var l=0;l<s;++l)r=i*t[l]+u[a+l],n=Math.floor(r/c),u[a+l]=r-n*c,u[a+l+1]+=n}return trim(u),u}function multiplySmall(e,t){var r,n,a=e.length,i=new Array(a),o=BASE,s=0;for(n=0;n<a;n++)r=e[n]*t+s,s=Math.floor(r/o),i[n]=r-s*o;for(;s>0;)i[n++]=s%o,s=Math.floor(s/o);return i}function shiftLeft(e,t){for(var r=[];t-- >0;)r.push(0);return r.concat(e)}function multiplyKaratsuba(e,t){var r=Math.max(e.length,t.length);if(r<=30)return multiplyLong(e,t);r=Math.ceil(r/2);var n=e.slice(r),a=e.slice(0,r),i=t.slice(r),o=t.slice(0,r),s=multiplyKaratsuba(a,o),u=multiplyKaratsuba(n,i),c=multiplyKaratsuba(addAny(a,n),addAny(o,i)),l=addAny(addAny(s,shiftLeft(subtract(subtract(c,s),u),r)),shiftLeft(u,2*r));return trim(l),l}function useKaratsuba(e,t){return-.012*e-.012*t+15e-6*e*t>0}function multiplySmallAndArray(e,t,r){return new BigInteger(e<BASE?multiplySmall(t,e):multiplyLong(t,smallToArray(e)),r)}function square(e){var t,r,n,a,i=e.length,o=createArray(i+i),s=BASE;for(n=0;n<i;n++){r=0-(a=e[n])*a;for(var u=n;u<i;u++)t=a*e[u]*2+o[n+u]+r,r=Math.floor(t/s),o[n+u]=t-r*s;o[n+i]=r}return trim(o),o}function divMod1(e,t){var r,n,a,i,o,s,u,c=e.length,l=t.length,p=BASE,f=createArray(t.length),g=t[l-1],m=Math.ceil(p/(2*g)),h=multiplySmall(e,m),d=multiplySmall(t,m);for(h.length<=c&&h.push(0),d.push(0),g=d[l-1],n=c-l;n>=0;n--){for(r=p-1,h[n+l]!==g&&(r=Math.floor((h[n+l]*p+h[n+l-1])/g)),a=0,i=0,s=d.length,o=0;o<s;o++)a+=r*d[o],u=Math.floor(a/p),i+=h[n+o]-(a-u*p),a=u,i<0?(h[n+o]=i+p,i=-1):(h[n+o]=i,i=0);for(;0!==i;){for(r-=1,a=0,o=0;o<s;o++)(a+=h[n+o]-p+d[o])<0?(h[n+o]=a+p,a=0):(h[n+o]=a,a=1);i+=a}f[n]=r}return h=divModSmall(h,m)[0],[arrayToSmall(f),arrayToSmall(h)]}function divMod2(e,t){for(var r,n,a,i,o,s=e.length,u=t.length,c=[],l=[],p=BASE;s;)if(l.unshift(e[--s]),trim(l),compareAbs(l,t)<0)c.push(0);else{a=l[(n=l.length)-1]*p+l[n-2],i=t[u-1]*p+t[u-2],n>u&&(a=(a+1)*p),r=Math.ceil(a/i);do{if(compareAbs(o=multiplySmall(t,r),l)<=0)break;r--}while(r);c.push(r),l=subtract(l,o)}return c.reverse(),[arrayToSmall(c),arrayToSmall(l)]}function divModSmall(e,t){var r,n,a,i,o=e.length,s=createArray(o),u=BASE;for(a=0,r=o-1;r>=0;--r)a=(i=a*u+e[r])-(n=truncate(i/t))*t,s[r]=0|n;return[s,0|a]}function divModAny(e,t){var r,n=parseValue(t);if(supportsNativeBigInt)return[new NativeBigInt(e.value/n.value),new NativeBigInt(e.value%n.value)];var a,i=e.value,o=n.value;if(0===o)throw new Error("Cannot divide by zero");if(e.isSmall)return n.isSmall?[new SmallInteger(truncate(i/o)),new SmallInteger(i%o)]:[Integer[0],e];if(n.isSmall){if(1===o)return[e,Integer[0]];if(-1==o)return[e.negate(),Integer[0]];var s=Math.abs(o);if(s<BASE){a=arrayToSmall((r=divModSmall(i,s))[0]);var u=r[1];return e.sign&&(u=-u),"number"==typeof a?(e.sign!==n.sign&&(a=-a),[new SmallInteger(a),new SmallInteger(u)]):[new BigInteger(a,e.sign!==n.sign),new SmallInteger(u)]}o=smallToArray(s)}var c=compareAbs(i,o);if(-1===c)return[Integer[0],e];if(0===c)return[Integer[e.sign===n.sign?1:-1],Integer[0]];a=(r=i.length+o.length<=200?divMod1(i,o):divMod2(i,o))[0];var l=e.sign!==n.sign,p=r[1],f=e.sign;return"number"==typeof a?(l&&(a=-a),a=new SmallInteger(a)):a=new BigInteger(a,l),"number"==typeof p?(f&&(p=-p),p=new SmallInteger(p)):p=new BigInteger(p,f),[a,p]}function compareAbs(e,t){if(e.length!==t.length)return e.length>t.length?1:-1;for(var r=e.length-1;r>=0;r--)if(e[r]!==t[r])return e[r]>t[r]?1:-1;return 0}function isBasicPrime(e){var t=e.abs();return!t.isUnit()&&(!!(t.equals(2)||t.equals(3)||t.equals(5))||!(t.isEven()||t.isDivisibleBy(3)||t.isDivisibleBy(5))&&(!!t.lesser(49)||void 0))}function millerRabinTest(e,t){for(var r,n,a,i=e.prev(),o=i,s=0;o.isEven();)o=o.divide(2),s++;e:for(n=0;n<t.length;n++)if(!e.lesser(t[n])&&!(a=bigInt(t[n]).modPow(o,e)).isUnit()&&!a.equals(i)){for(r=s-1;0!=r;r--){if((a=a.square().mod(e)).isUnit())return!1;if(a.equals(i))continue e}return!1}return!0}BigInteger.prototype=Object.create(Integer.prototype),SmallInteger.prototype=Object.create(Integer.prototype),NativeBigInt.prototype=Object.create(Integer.prototype),BigInteger.prototype.add=function(e){var t=parseValue(e);if(this.sign!==t.sign)return this.subtract(t.negate());var r=this.value,n=t.value;return t.isSmall?new BigInteger(addSmall(r,Math.abs(n)),this.sign):new BigInteger(addAny(r,n),this.sign)},BigInteger.prototype.plus=BigInteger.prototype.add,SmallInteger.prototype.add=function(e){var t=parseValue(e),r=this.value;if(r<0!==t.sign)return this.subtract(t.negate());var n=t.value;if(t.isSmall){if(isPrecise(r+n))return new SmallInteger(r+n);n=smallToArray(Math.abs(n))}return new BigInteger(addSmall(n,Math.abs(r)),r<0)},SmallInteger.prototype.plus=SmallInteger.prototype.add,NativeBigInt.prototype.add=function(e){return new NativeBigInt(this.value+parseValue(e).value)},NativeBigInt.prototype.plus=NativeBigInt.prototype.add,BigInteger.prototype.subtract=function(e){var t=parseValue(e);if(this.sign!==t.sign)return this.add(t.negate());var r=this.value,n=t.value;return t.isSmall?subtractSmall(r,Math.abs(n),this.sign):subtractAny(r,n,this.sign)},BigInteger.prototype.minus=BigInteger.prototype.subtract,SmallInteger.prototype.subtract=function(e){var t=parseValue(e),r=this.value;if(r<0!==t.sign)return this.add(t.negate());var n=t.value;return t.isSmall?new SmallInteger(r-n):subtractSmall(n,Math.abs(r),r>=0)},SmallInteger.prototype.minus=SmallInteger.prototype.subtract,NativeBigInt.prototype.subtract=function(e){return new NativeBigInt(this.value-parseValue(e).value)},NativeBigInt.prototype.minus=NativeBigInt.prototype.subtract,BigInteger.prototype.negate=function(){return new BigInteger(this.value,!this.sign)},SmallInteger.prototype.negate=function(){var e=this.sign,t=new SmallInteger(-this.value);return t.sign=!e,t},NativeBigInt.prototype.negate=function(){return new NativeBigInt(-this.value)},BigInteger.prototype.abs=function(){return new BigInteger(this.value,!1)},SmallInteger.prototype.abs=function(){return new SmallInteger(Math.abs(this.value))},NativeBigInt.prototype.abs=function(){return new NativeBigInt(this.value>=0?this.value:-this.value)},BigInteger.prototype.multiply=function(e){var t,r=parseValue(e),n=this.value,a=r.value,i=this.sign!==r.sign;if(r.isSmall){if(0===a)return Integer[0];if(1===a)return this;if(-1===a)return this.negate();if((t=Math.abs(a))<BASE)return new BigInteger(multiplySmall(n,t),i);a=smallToArray(t)}return useKaratsuba(n.length,a.length)?new BigInteger(multiplyKaratsuba(n,a),i):new BigInteger(multiplyLong(n,a),i)},BigInteger.prototype.times=BigInteger.prototype.multiply,SmallInteger.prototype._multiplyBySmall=function(e){return isPrecise(e.value*this.value)?new SmallInteger(e.value*this.value):multiplySmallAndArray(Math.abs(e.value),smallToArray(Math.abs(this.value)),this.sign!==e.sign)},BigInteger.prototype._multiplyBySmall=function(e){return 0===e.value?Integer[0]:1===e.value?this:-1===e.value?this.negate():multiplySmallAndArray(Math.abs(e.value),this.value,this.sign!==e.sign)},SmallInteger.prototype.multiply=function(e){return parseValue(e)._multiplyBySmall(this)},SmallInteger.prototype.times=SmallInteger.prototype.multiply,NativeBigInt.prototype.multiply=function(e){return new NativeBigInt(this.value*parseValue(e).value)},NativeBigInt.prototype.times=NativeBigInt.prototype.multiply,BigInteger.prototype.square=function(){return new BigInteger(square(this.value),!1)},SmallInteger.prototype.square=function(){var e=this.value*this.value;return isPrecise(e)?new SmallInteger(e):new BigInteger(square(smallToArray(Math.abs(this.value))),!1)},NativeBigInt.prototype.square=function(e){return new NativeBigInt(this.value*this.value)},BigInteger.prototype.divmod=function(e){var t=divModAny(this,e);return{quotient:t[0],remainder:t[1]}},NativeBigInt.prototype.divmod=SmallInteger.prototype.divmod=BigInteger.prototype.divmod,BigInteger.prototype.divide=function(e){return divModAny(this,e)[0]},NativeBigInt.prototype.over=NativeBigInt.prototype.divide=SmallInteger.prototype.over=SmallInteger.prototype.divide=BigInteger.prototype.over=BigInteger.prototype.divide,BigInteger.prototype.mod=function(e){return divModAny(this,e)[1]},NativeBigInt.prototype.mod=NativeBigInt.prototype.remainder=SmallInteger.prototype.remainder=SmallInteger.prototype.mod=BigInteger.prototype.remainder=BigInteger.prototype.mod,BigInteger.prototype.pow=function(e){var t,r,n,a=parseValue(e),i=this.value,o=a.value;if(0===o)return Integer[1];if(0===i)return Integer[0];if(1===i)return Integer[1];if(-1===i)return a.isEven()?Integer[1]:Integer[-1];if(a.sign)return Integer[0];if(!a.isSmall)throw new Error("The exponent "+a.toString()+" is too large.");if(this.isSmall&&isPrecise(t=Math.pow(i,o)))return new SmallInteger(truncate(t));for(r=this,n=Integer[1];!0&o&&(n=n.times(r),--o),0!==o;)o/=2,r=r.square();return n},SmallInteger.prototype.pow=BigInteger.prototype.pow,supportsNativeBigInt&&(pow=eval("(a,b)=>a**b")),NativeBigInt.prototype.pow=function(e){var t=parseValue(e),r=this.value,n=t.value;return n===BigInt(0)?Integer[1]:r===BigInt(0)?Integer[0]:r===BigInt(1)?Integer[1]:r===BigInt(-1)?t.isEven()?Integer[1]:Integer[-1]:t.isNegative()?new NativeBigInt(BigInt(0)):new NativeBigInt(pow(r,n))},BigInteger.prototype.modPow=function(e,t){if(e=parseValue(e),(t=parseValue(t)).isZero())throw new Error("Cannot take modPow with modulus 0");for(var r=Integer[1],n=this.mod(t);e.isPositive();){if(n.isZero())return Integer[0];e.isOdd()&&(r=r.multiply(n).mod(t)),e=e.divide(2),n=n.square().mod(t)}return r},NativeBigInt.prototype.modPow=SmallInteger.prototype.modPow=BigInteger.prototype.modPow,BigInteger.prototype.compareAbs=function(e){var t=parseValue(e),r=this.value,n=t.value;return t.isSmall?1:compareAbs(r,n)},SmallInteger.prototype.compareAbs=function(e){var t=parseValue(e),r=Math.abs(this.value),n=t.value;return t.isSmall?r===(n=Math.abs(n))?0:r>n?1:-1:-1},NativeBigInt.prototype.compareAbs=function(e){var t=this.value,r=parseValue(e).value;return(t=t>=0?t:-t)===(r=r>=0?r:-r)?0:t>r?1:-1},BigInteger.prototype.compare=function(e){if(e===1/0)return-1;if(e===-1/0)return 1;var t=parseValue(e),r=this.value,n=t.value;return this.sign!==t.sign?t.sign?1:-1:t.isSmall?this.sign?-1:1:compareAbs(r,n)*(this.sign?-1:1)},BigInteger.prototype.compareTo=BigInteger.prototype.compare,SmallInteger.prototype.compare=function(e){if(e===1/0)return-1;if(e===-1/0)return 1;var t=parseValue(e),r=this.value,n=t.value;return t.isSmall?r==n?0:r>n?1:-1:r<0!==t.sign?r<0?-1:1:r<0?1:-1},SmallInteger.prototype.compareTo=SmallInteger.prototype.compare,NativeBigInt.prototype.compare=function(e){if(e===1/0)return-1;if(e===-1/0)return 1;var t=this.value,r=parseValue(e).value;return t===r?0:t>r?1:-1},NativeBigInt.prototype.compareTo=NativeBigInt.prototype.compare,BigInteger.prototype.equals=function(e){return 0===this.compare(e)},NativeBigInt.prototype.eq=NativeBigInt.prototype.equals=SmallInteger.prototype.eq=SmallInteger.prototype.equals=BigInteger.prototype.eq=BigInteger.prototype.equals,BigInteger.prototype.notEquals=function(e){return 0!==this.compare(e)},NativeBigInt.prototype.neq=NativeBigInt.prototype.notEquals=SmallInteger.prototype.neq=SmallInteger.prototype.notEquals=BigInteger.prototype.neq=BigInteger.prototype.notEquals,BigInteger.prototype.greater=function(e){return this.compare(e)>0},NativeBigInt.prototype.gt=NativeBigInt.prototype.greater=SmallInteger.prototype.gt=SmallInteger.prototype.greater=BigInteger.prototype.gt=BigInteger.prototype.greater,BigInteger.prototype.lesser=function(e){return this.compare(e)<0},NativeBigInt.prototype.lt=NativeBigInt.prototype.lesser=SmallInteger.prototype.lt=SmallInteger.prototype.lesser=BigInteger.prototype.lt=BigInteger.prototype.lesser,BigInteger.prototype.greaterOrEquals=function(e){return this.compare(e)>=0},NativeBigInt.prototype.geq=NativeBigInt.prototype.greaterOrEquals=SmallInteger.prototype.geq=SmallInteger.prototype.greaterOrEquals=BigInteger.prototype.geq=BigInteger.prototype.greaterOrEquals,BigInteger.prototype.lesserOrEquals=function(e){return this.compare(e)<=0},NativeBigInt.prototype.leq=NativeBigInt.prototype.lesserOrEquals=SmallInteger.prototype.leq=SmallInteger.prototype.lesserOrEquals=BigInteger.prototype.leq=BigInteger.prototype.lesserOrEquals,BigInteger.prototype.isEven=function(){return 0==(1&this.value[0])},SmallInteger.prototype.isEven=function(){return 0==(1&this.value)},NativeBigInt.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)},BigInteger.prototype.isOdd=function(){return 1==(1&this.value[0])},SmallInteger.prototype.isOdd=function(){return 1==(1&this.value)},NativeBigInt.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)},BigInteger.prototype.isPositive=function(){return!this.sign},SmallInteger.prototype.isPositive=function(){return this.value>0},NativeBigInt.prototype.isPositive=SmallInteger.prototype.isPositive,BigInteger.prototype.isNegative=function(){return this.sign},SmallInteger.prototype.isNegative=function(){return this.value<0},NativeBigInt.prototype.isNegative=SmallInteger.prototype.isNegative,BigInteger.prototype.isUnit=function(){return!1},SmallInteger.prototype.isUnit=function(){return 1===Math.abs(this.value)},NativeBigInt.prototype.isUnit=function(){return this.abs().value===BigInt(1)},BigInteger.prototype.isZero=function(){return!1},SmallInteger.prototype.isZero=function(){return 0===this.value},NativeBigInt.prototype.isZero=function(){return this.value===BigInt(0)},BigInteger.prototype.isDivisibleBy=function(e){var t=parseValue(e);return!t.isZero()&&(!!t.isUnit()||(0===t.compareAbs(2)?this.isEven():this.mod(t).isZero()))},NativeBigInt.prototype.isDivisibleBy=SmallInteger.prototype.isDivisibleBy=BigInteger.prototype.isDivisibleBy,BigInteger.prototype.isPrime=function(e){var t=isBasicPrime(this);if(t!==undefined)return t;var r=this.abs(),n=r.bitLength();if(n<=64)return millerRabinTest(r,[2,325,9375,28178,450775,9780504,1795265022]);for(var a=Math.log(2)*n.toJSNumber(),i=Math.ceil(!0===e?2*Math.pow(a,2):a),o=[],s=0;s<i;s++)o.push(bigInt(s+2));return millerRabinTest(r,o)},NativeBigInt.prototype.isPrime=SmallInteger.prototype.isPrime=BigInteger.prototype.isPrime,BigInteger.prototype.isProbablePrime=function(e){var t=isBasicPrime(this);if(t!==undefined)return t;for(var r=this.abs(),n=e===undefined?5:e,a=[],i=0;i<n;i++)a.push(bigInt.randBetween(2,r.minus(2)));return millerRabinTest(r,a)},NativeBigInt.prototype.isProbablePrime=SmallInteger.prototype.isProbablePrime=BigInteger.prototype.isProbablePrime,BigInteger.prototype.modInv=function(e){for(var t,r,n,a=bigInt.zero,i=bigInt.one,o=parseValue(e),s=this.abs();!s.isZero();)t=o.divide(s),r=a,n=o,a=i,o=s,i=r.subtract(t.multiply(i)),s=n.subtract(t.multiply(s));if(!o.isUnit())throw new Error(this.toString()+" and "+e.toString()+" are not co-prime");return-1===a.compare(0)&&(a=a.add(e)),this.isNegative()?a.negate():a},NativeBigInt.prototype.modInv=SmallInteger.prototype.modInv=BigInteger.prototype.modInv,BigInteger.prototype.next=function(){var e=this.value;return this.sign?subtractSmall(e,1,this.sign):new BigInteger(addSmall(e,1),this.sign)},SmallInteger.prototype.next=function(){var e=this.value;return e+1<MAX_INT?new SmallInteger(e+1):new BigInteger(MAX_INT_ARR,!1)},NativeBigInt.prototype.next=function(){return new NativeBigInt(this.value+BigInt(1))},BigInteger.prototype.prev=function(){var e=this.value;return this.sign?new BigInteger(addSmall(e,1),!0):subtractSmall(e,1,this.sign)},SmallInteger.prototype.prev=function(){var e=this.value;return e-1>-MAX_INT?new SmallInteger(e-1):new BigInteger(MAX_INT_ARR,!0)},NativeBigInt.prototype.prev=function(){return new NativeBigInt(this.value-BigInt(1))};for(var powersOfTwo=[1];2*powersOfTwo[powersOfTwo.length-1]<=BASE;)powersOfTwo.push(2*powersOfTwo[powersOfTwo.length-1]);var powers2Length=powersOfTwo.length,highestPower2=powersOfTwo[powers2Length-1];function shift_isSmall(e){return Math.abs(e)<=BASE}function bitwise(e,t,r){t=parseValue(t);for(var n=e.isNegative(),a=t.isNegative(),i=n?e.not():e,o=a?t.not():t,s=0,u=0,c=null,l=null,p=[];!i.isZero()||!o.isZero();)s=(c=divModAny(i,highestPower2))[1].toJSNumber(),n&&(s=highestPower2-1-s),u=(l=divModAny(o,highestPower2))[1].toJSNumber(),a&&(u=highestPower2-1-u),i=c[0],o=l[0],p.push(r(s,u));for(var f=0!==r(n?1:0,a?1:0)?bigInt(-1):bigInt(0),g=p.length-1;g>=0;g-=1)f=f.multiply(highestPower2).add(bigInt(p[g]));return f}BigInteger.prototype.shiftLeft=function(e){var t=parseValue(e).toJSNumber();if(!shift_isSmall(t))throw new Error(String(t)+" is too large for shifting.");if(t<0)return this.shiftRight(-t);var r=this;if(r.isZero())return r;for(;t>=powers2Length;)r=r.multiply(highestPower2),t-=powers2Length-1;return r.multiply(powersOfTwo[t])},NativeBigInt.prototype.shiftLeft=SmallInteger.prototype.shiftLeft=BigInteger.prototype.shiftLeft,BigInteger.prototype.shiftRight=function(e){var t,r=parseValue(e).toJSNumber();if(!shift_isSmall(r))throw new Error(String(r)+" is too large for shifting.");if(r<0)return this.shiftLeft(-r);for(var n=this;r>=powers2Length;){if(n.isZero()||n.isNegative()&&n.isUnit())return n;n=(t=divModAny(n,highestPower2))[1].isNegative()?t[0].prev():t[0],r-=powers2Length-1}return(t=divModAny(n,powersOfTwo[r]))[1].isNegative()?t[0].prev():t[0]},NativeBigInt.prototype.shiftRight=SmallInteger.prototype.shiftRight=BigInteger.prototype.shiftRight,BigInteger.prototype.not=function(){return this.negate().prev()},NativeBigInt.prototype.not=SmallInteger.prototype.not=BigInteger.prototype.not,BigInteger.prototype.and=function(e){return bitwise(this,e,function(e,t){return e&t})},NativeBigInt.prototype.and=SmallInteger.prototype.and=BigInteger.prototype.and,BigInteger.prototype.or=function(e){return bitwise(this,e,function(e,t){return e|t})},NativeBigInt.prototype.or=SmallInteger.prototype.or=BigInteger.prototype.or,BigInteger.prototype.xor=function(e){return bitwise(this,e,function(e,t){return e^t})},NativeBigInt.prototype.xor=SmallInteger.prototype.xor=BigInteger.prototype.xor;var LOBMASK_I=1<<30,LOBMASK_BI=(BASE&-BASE)*(BASE&-BASE)|LOBMASK_I;function roughLOB(e){var t=e.value,r="number"==typeof t?t|LOBMASK_I:"bigint"==typeof t?t|BigInt(LOBMASK_I):t[0]+t[1]*BASE|LOBMASK_BI;return r&-r}function integerLogarithm(e,t){if(t.compareTo(e)<=0){var r=integerLogarithm(e,t.square(t)),n=r.p,a=r.e,i=n.multiply(t);return i.compareTo(e)<=0?{p:i,e:2*a+1}:{p:n,e:2*a}}return{p:bigInt(1),e:0}}function max(e,t){return e=parseValue(e),t=parseValue(t),e.greater(t)?e:t}function min(e,t){return e=parseValue(e),t=parseValue(t),e.lesser(t)?e:t}function gcd(e,t){if(e=parseValue(e).abs(),t=parseValue(t).abs(),e.equals(t))return e;if(e.isZero())return t;if(t.isZero())return e;for(var r,n,a=Integer[1];e.isEven()&&t.isEven();)r=min(roughLOB(e),roughLOB(t)),e=e.divide(r),t=t.divide(r),a=a.multiply(r);for(;e.isEven();)e=e.divide(roughLOB(e));do{for(;t.isEven();)t=t.divide(roughLOB(t));e.greater(t)&&(n=t,t=e,e=n),t=t.subtract(e)}while(!t.isZero());return a.isUnit()?e:e.multiply(a)}function lcm(e,t){return e=parseValue(e).abs(),t=parseValue(t).abs(),e.divide(gcd(e,t)).multiply(t)}function randBetween(e,t){var r=min(e=parseValue(e),t=parseValue(t)),n=max(e,t).subtract(r).add(1);if(n.isSmall)return r.add(Math.floor(Math.random()*n));for(var a=toBase(n,BASE).value,i=[],o=!0,s=0;s<a.length;s++){var u=o?a[s]:BASE,c=truncate(Math.random()*u);i.push(c),c<u&&(o=!1)}return r.add(Integer.fromArray(i,BASE,!1))}BigInteger.prototype.bitLength=function(){var e=this;return e.compareTo(bigInt(0))<0&&(e=e.negate().subtract(bigInt(1))),0===e.compareTo(bigInt(0))?bigInt(0):bigInt(integerLogarithm(e,bigInt(2)).e).add(bigInt(1))},NativeBigInt.prototype.bitLength=SmallInteger.prototype.bitLength=BigInteger.prototype.bitLength;var parseBase=function(e,t,r,n){r=r||DEFAULT_ALPHABET,e=String(e),n||(e=e.toLowerCase(),r=r.toLowerCase());var a,i=e.length,o=Math.abs(t),s={};for(a=0;a<r.length;a++)s[r[a]]=a;for(a=0;a<i;a++){if("-"!==(l=e[a])&&(l in s&&s[l]>=o)){if("1"===l&&1===o)continue;throw new Error(l+" is not a valid digit in base "+t+".")}}t=parseValue(t);var u=[],c="-"===e[0];for(a=c?1:0;a<e.length;a++){var l;if((l=e[a])in s)u.push(parseValue(s[l]));else{if("<"!==l)throw new Error(l+" is not a valid character");var p=a;do{a++}while(">"!==e[a]&&a<e.length);u.push(parseValue(e.slice(p+1,a)))}}return parseBaseFromArray(u,t,c)};function parseBaseFromArray(e,t,r){var n,a=Integer[0],i=Integer[1];for(n=e.length-1;n>=0;n--)a=a.add(e[n].times(i)),i=i.times(t);return r?a.negate():a}function stringify(e,t){return e<(t=t||DEFAULT_ALPHABET).length?t[e]:"<"+e+">"}function toBase(e,t){if((t=bigInt(t)).isZero()){if(e.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(t.equals(-1)){if(e.isZero())return{value:[0],isNegative:!1};if(e.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-e.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var r=Array.apply(null,Array(e.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return r.unshift([1]),{value:[].concat.apply([],r),isNegative:!1}}var n=!1;if(e.isNegative()&&t.isPositive()&&(n=!0,e=e.abs()),t.isUnit())return e.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(e.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:n};for(var a,i=[],o=e;o.isNegative()||o.compareAbs(t)>=0;){a=o.divmod(t),o=a.quotient;var s=a.remainder;s.isNegative()&&(s=t.minus(s).abs(),o=o.next()),i.push(s.toJSNumber())}return i.push(o.toJSNumber()),{value:i.reverse(),isNegative:n}}function toBaseString(e,t,r){var n=toBase(e,t);return(n.isNegative?"-":"")+n.value.map(function(e){return stringify(e,r)}).join("")}function parseStringValue(e){if(isPrecise(+e)){var t=+e;if(t===truncate(t))return supportsNativeBigInt?new NativeBigInt(BigInt(t)):new SmallInteger(t);throw new Error("Invalid integer: "+e)}var r="-"===e[0];r&&(e=e.slice(1));var n=e.split(/e/i);if(n.length>2)throw new Error("Invalid integer: "+n.join("e"));if(2===n.length){var a=n[1];if("+"===a[0]&&(a=a.slice(1)),(a=+a)!==truncate(a)||!isPrecise(a))throw new Error("Invalid integer: "+a+" is not a valid exponent.");var i=n[0],o=i.indexOf(".");if(o>=0&&(a-=i.length-o-1,i=i.slice(0,o)+i.slice(o+1)),a<0)throw new Error("Cannot include negative exponent part for integers");e=i+=new Array(a+1).join("0")}if(!/^([0-9][0-9]*)$/.test(e))throw new Error("Invalid integer: "+e);if(supportsNativeBigInt)return new NativeBigInt(BigInt(r?"-"+e:e));for(var s=[],u=e.length,c=LOG_BASE,l=u-c;u>0;)s.push(+e.slice(l,u)),(l-=c)<0&&(l=0),u-=c;return trim(s),new BigInteger(s,r)}function parseNumberValue(e){if(supportsNativeBigInt)return new NativeBigInt(BigInt(e));if(isPrecise(e)){if(e!==truncate(e))throw new Error(e+" is not an integer.");return new SmallInteger(e)}return parseStringValue(e.toString())}function parseValue(e){return"number"==typeof e?parseNumberValue(e):"string"==typeof e?parseStringValue(e):"bigint"==typeof e?new NativeBigInt(e):e}BigInteger.prototype.toArray=function(e){return toBase(this,e)},SmallInteger.prototype.toArray=function(e){return toBase(this,e)},NativeBigInt.prototype.toArray=function(e){return toBase(this,e)},BigInteger.prototype.toString=function(e,t){if(e===undefined&&(e=10),10!==e)return toBaseString(this,e,t);for(var r,n=this.value,a=n.length,i=String(n[--a]);--a>=0;)r=String(n[a]),i+="0000000".slice(r.length)+r;return(this.sign?"-":"")+i},SmallInteger.prototype.toString=function(e,t){return e===undefined&&(e=10),10!=e?toBaseString(this,e,t):String(this.value)},NativeBigInt.prototype.toString=SmallInteger.prototype.toString,NativeBigInt.prototype.toJSON=BigInteger.prototype.toJSON=SmallInteger.prototype.toJSON=function(){return this.toString()},BigInteger.prototype.valueOf=function(){return parseInt(this.toString(),10)},BigInteger.prototype.toJSNumber=BigInteger.prototype.valueOf,SmallInteger.prototype.valueOf=function(){return this.value},SmallInteger.prototype.toJSNumber=SmallInteger.prototype.valueOf,NativeBigInt.prototype.valueOf=NativeBigInt.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};for(var i=0;i<1e3;i++)Integer[i]=parseValue(i),i>0&&(Integer[-i]=parseValue(-i));return Integer.one=Integer[1],Integer.zero=Integer[0],Integer.minusOne=Integer[-1],Integer.max=max,Integer.min=min,Integer.gcd=gcd,Integer.lcm=lcm,Integer.isInstance=function(e){return e instanceof BigInteger||e instanceof SmallInteger||e instanceof NativeBigInt},Integer.randBetween=randBetween,Integer.fromArray=function(e,t,r){return parseBaseFromArray(e.map(parseValue),parseValue(t||10),r)},Integer}();module.hasOwnProperty("exports")&&(module.exports=bigInt),__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return bigInt}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}).call(this,__webpack_require__(11)(module))},function(module,__webpack_exports__,__webpack_require__){"use strict";var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__),_util__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2),top_list_all={0:["云音乐新歌榜","3779629"],1:["云音乐热歌榜","3778678"],2:["网易原创歌曲榜","2884035"],3:["云音乐飙升榜","19723756"],4:["云音乐电音榜","10520166"],5:["UK排行榜周榜","180106"],6:["美国Billboard周榜","60198"],7:["KTV嗨榜","21845217"],8:["iTunes榜","11641012"],9:["Hit FM Top榜","120001"],10:["日本Oricon周榜","60131"],11:["韩国Melon排行榜周榜","3733003"],12:["韩国Mnet排行榜周榜","60255"],13:["韩国Melon原声周榜","46772709"],14:["中国TOP排行榜(港台榜)","112504"],15:["中国TOP排行榜(内地榜)","64016"],16:["香港电台中文歌曲龙虎榜","10169002"],17:["华语金曲榜","4395559"],18:["中国嘻哈榜","1899724"],19:["法国 NRJ EuroHot 30周榜","27135204"],20:["台湾Hito排行榜","112463"],21:["Beatport全球电子舞曲榜","3812895"]};__webpack_exports__.a=function(instance){var getMusicInfo=function(e,t){return t||(t=e.privilege),{album:{id:e.al.id,name:e.al.name,cover:e.al.picUrl},artists:e.ar.map(function(e){return{id:e.id,name:e.name}}),name:e.name,id:e.id,cp:!t.cp,dl:!t.fee,quality:{192:t.fl>=192e3,320:t.fl>=32e4,999:t.fl>=999e3},mv:e.mv}},getMusicInfo2=function(e,t){return t||(t=e.privilege),{album:{id:e.album.id,name:e.album.name,cover:e.album.picUrl},artists:e.artists.map(function(e){return{id:e.id,name:e.name}}),name:e.name,id:e.id,cp:!t.cp,dl:!t.fee,quality:{192:t.fl>=192e3,320:t.fl>=32e4,999:t.fl>=999e3},mv:e.mvid}};return{instance:instance,searchSong:function(){var e=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function e(t){var r,n,a,i,o,s,u,c,l;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.keyword,n=t.limit,a=void 0===n?30:n,i=t.offset,o=void 0===i?0:i,s=t.type,u={csrf_token:"",limit:a,type:void 0===s?1:s,s:r,offset:o},e.prev=2,e.next=5,instance.post("/weapi/cloudsearch/get/web",u);case 5:return c=e.sent,(l=c.result)||(l={songCount:0,songs:[]}),e.abrupt("return",{status:!0,data:{total:l.songCount,songs:l.songs.map(function(e){return getMusicInfo(e)})}});case 11:return e.prev=11,e.t0=e.catch(2),console.warn(e.t0),e.abrupt("return",{status:!1,msg:"获取失败",log:e.t0});case 15:case"end":return e.stop()}},e,this,[[2,11]])}));return function(t){return e.apply(this,arguments)}}(),getSongDetail:function(){var e=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function e(t){var r,n;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,instance.post("/weapi/v3/song/detail",{c:JSON.stringify([{id:t}]),ids:"["+t+"]",csrf_token:""});case 3:if(r=e.sent,n=r.songs[0]){e.next=7;break}return e.abrupt("return",{status:!1,msg:_util__WEBPACK_IMPORTED_MODULE_2__.c});case 7:return e.abrupt("return",{status:!0,data:getMusicInfo(n,r.privileges[0])});case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{status:!1,msg:"请求失败",log:e.t0});case 13:case"end":return e.stop()}},e,this,[[0,10]])}));return function(t){return e.apply(this,arguments)}}(),getBatchSongDetail:function(){var e=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function e(t){var r,n;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=t.map(function(e){return parseInt(e)}),e.prev=1,e.next=4,instance.post("/weapi/v3/song/detail",{c:JSON.stringify(t.map(function(e){return{id:e}})),ids:JSON.stringify(t),csrf_token:""});case 4:return r=e.sent,n={},r.privileges.forEach(function(e){n[e.id]=e}),e.abrupt("return",{status:!0,data:r.songs.map(function(e){return getMusicInfo(e,n[e.id])})});case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",{status:!1,msg:"请求失败",log:e.t0});case 13:case"end":return e.stop()}},e,this,[[1,10]])}));return function(t){return e.apply(this,arguments)}}(),getSongUrl:function(){var e=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function e(t){var r,n,a,i,o=arguments;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:128e3,r=parseInt(r),n={ids:[t],br:r,csrf_token:""},e.prev=3,e.next=6,instance.post("/weapi/song/enhance/player/url",n);case 6:return a=e.sent,i=a.data,e.abrupt("return",{status:!0,data:{url:i[0].url,br:i[0].br,size:i[0].size}});case 11:return e.prev=11,e.t0=e.catch(3),e.abrupt("return",{status:!1,msg:"获取失败",log:e.t0});case 14:case"end":return e.stop()}},e,this,[[3,11]])}));return function(t){return e.apply(this,arguments)}}(),getLyric:function(){var e=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function e(t){var r,n,a,i;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,instance.post("/weapi/song/lyric?os=osx&id="+t+"&lv=-1&kv=-1&tv=-1",{});case 3:if(!(r=e.sent).lrc||!r.lrc.lyric){e.next=12;break}for(n=Object(_util__WEBPACK_IMPORTED_MODULE_2__.b)(r.tlyric.lyric)||[],a=[],i=0;i<n.length-1;i++)n[i][1]!==n[i+1][1]&&a.push(n[i]);return n.length&&a.push(n.pop()),e.abrupt("return",{status:!0,data:{lyric:Object(_util__WEBPACK_IMPORTED_MODULE_2__.b)(r.lrc.lyric),translate:a}});case 12:return e.abrupt("return",{status:!0,data:{lyric:[],translate:[]}});case 13:e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(0),e.abrupt("return",{status:!1,msg:"请求失败",log:e.t0});case 18:case"end":return e.stop()}},e,this,[[0,15]])}));return function(t){return e.apply(this,arguments)}}(),getTopList:function(){var e=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function e(t){var r,n,a;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,instance.post("/weapi/v3/playlist/detail",{id:top_list_all[t][1],limit:30,offset:0,total:!0,n:1e3,csrf_token:""});case 3:return r=e.sent,n=r.playlist,a=r.privileges,e.abrupt("return",{status:!0,data:{name:n.name,description:n.description,cover:n.coverImgUrl,playCount:n.playCount,list:n.tracks.map(function(e,t){return getMusicInfo(e,a[t])})}});case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{status:!1,msg:"获取失败",log:e.t0});case 12:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),getComment:function(){var e=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function e(t,r){var n,a,i,o,s,u=arguments;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>2&&void 0!==u[2]?u[2]:20,e.prev=1,e.next=4,instance.post("/weapi/v1/resource/comments/R_SO_4_"+t+"/?csrf_token=",{offset:(r-1)*n,rid:t,limit:n,csrf_token:""});case 4:return a=e.sent,i=a.hotComments,o=a.comments,s=a.total,e.abrupt("return",{status:!0,data:{hotComments:i||[],comments:o||[],total:s}});case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",{status:!1,msg:"请求失败",log:e.t0});case 14:case"end":return e.stop()}},e,this,[[1,11]])}));return function(t,r){return e.apply(this,arguments)}}(),getArtistSongs:function(){var e=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function e(t,r,n){var a;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,instance.post("/weapi/v1/artist/".concat(t),{csrf_token:"",offset:r,limit:n});case 3:return a=e.sent,e.abrupt("return",{status:!0,data:{detail:{id:t,name:a.artist.name,avatar:a.artist.img1v1Url,desc:a.artist.briefDesc},songs:a.hotSongs.map(function(e){return getMusicInfo(e)})}});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{status:!1,msg:"请求失败",log:e.t0});case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t,r,n){return e.apply(this,arguments)}}(),getPlaylistDetail:function(){var e=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function e(t,r,n){var a,i,o,s,u,c,l,p,f;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,instance.post("/weapi/v3/playlist/detail",{id:t,n:n,s:8,csrf_token:""});case 3:if(a=e.sent,i=a.playlist,o=a.privileges,s=[],u={},!(i.tracks.length>1e3)){e.next=25;break}c=[],l=1e3,p=0;case 12:if(!(p<i.tracks.length)){e.next=23;break}if(c.push(i.tracks[p].id),c.length!==l&&p+1!==i.tracks.length){e.next=20;break}return e.next=17,this.getBatchSongDetail(c);case 17:(f=e.sent).status&&(s=s.concat(f.data)),c=[];case 20:p++,e.next=12;break;case 23:e.next=27;break;case 25:o.forEach(function(e){u[e.id]=e}),s=i.tracks.map(function(e){return getMusicInfo(e,u[e.id])});case 27:return e.abrupt("return",{status:!0,data:{detail:{id:i.id,name:i.name,cover:i.coverImgUrl,desc:i.description},songs:s}});case 30:return e.prev=30,e.t0=e.catch(0),e.abrupt("return",{status:!1,msg:"请求失败",log:e.t0});case 33:case"end":return e.stop()}},e,this,[[0,30]])}));return function(t,r,n){return e.apply(this,arguments)}}(),getAlbumDetail:function(){var e=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function e(t){var r,n,a;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,instance.post("/weapi/v1/album/".concat(t),{});case 3:return r=e.sent,n=r.album,a=r.songs,e.abrupt("return",{status:!0,data:{name:n.name,cover:n.picUrl,artist:{id:n.artist.id,name:n.artist.name},desc:n.description,publishTime:n.publishTime,songs:a.map(function(e){return getMusicInfo(e)})}});case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{status:!1,msg:"请求失败",log:e.t0});case 12:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),getBanner:function(){var _getBanner=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee11(){var _ref8,data,pattern,banners;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee11$(_context11){for(;;)switch(_context11.prev=_context11.next){case 0:return _context11.prev=0,_context11.next=3,instance.get("http://music.163.com/discover",{},{headers:{Referer:"http://music.163.com","User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3380.0 Safari/537.36"},pureFly:!0});case 3:return _ref8=_context11.sent,data=_ref8.data,pattern=/<script[^>]*>\s*window\.Gbanners\s*=\s*([^;]+?);\s*<\/script>/g,banners=pattern.exec(data)[1],_context11.abrupt("return",{status:!0,data:eval(banners)});case 10:return _context11.prev=10,_context11.t0=_context11.catch(0),_context11.abrupt("return",{status:!1,msg:"请求失败",log:_context11.t0});case 13:case"end":return _context11.stop()}},_callee11,this,[[0,10]])}));function getBanner(){return _getBanner.apply(this,arguments)}return getBanner}(),getMvDetail:function(){var e=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function e(t){var r,n;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,instance.post("/weapi/mv/detail",{id:t});case 3:return r=e.sent,n=r.data,e.abrupt("return",{status:!0,data:n});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{status:!1,msg:"请求失败",log:e.t0});case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(t){return e.apply(this,arguments)}}(),getMvComment:function(){var e=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function e(t){var r,n,a,i=arguments;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:1,n=i.length>2&&void 0!==i[2]?i[2]:20,e.prev=2,e.next=5,instance.post("/weapi/v1/resource/comments/R_MV_5_".concat(t,"/?csrf_token="),{offset:(r-1)*n,rid:t,limit:n,csrf_token:""});case 5:return a=e.sent,e.abrupt("return",{status:!0,data:{total:a.total||0,hotComments:a.hotComments||[],comments:a.comments||[]}});case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",{status:!1,msg:"请求失败",log:e.t0});case 12:case"end":return e.stop()}},e,this,[[2,9]])}));return function(t){return e.apply(this,arguments)}}(),getTopPlaylist:function(){var e=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function e(){var t,r,n,a,i=arguments;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:"全部",r=i.length>1&&void 0!==i[1]?i[1]:1,n=i.length>2&&void 0!==i[2]?i[2]:20,e.prev=3,e.next=6,instance.post("/weapi/playlist/highquality/list",{cat:t,offset:(r-1)*n,limit:n,csrf_token:""});case 6:return a=e.sent,e.abrupt("return",{status:!0,data:a.playlists});case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",{status:!1,msg:"请求失败",log:e.t0});case 13:case"end":return e.stop()}},e,this,[[3,10]])}));return function(){return e.apply(this,arguments)}}(),getNewestMvs:function(){var e=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function e(){var t,r,n,a=arguments;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:20,e.prev=1,e.next=4,instance.post("/weapi/mv/first",{total:!0,limit:t,csrf_token:""});case 4:return r=e.sent,n=r.data,e.abrupt("return",{status:!0,data:n});case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",{status:!1,msg:"请求失败",log:e.t0});case 12:case"end":return e.stop()}},e,this,[[1,9]])}));return function(){return e.apply(this,arguments)}}(),getRecommendSongs:function(){var e=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function e(){var t,r,n,a=arguments;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:1,r=a.length>1&&void 0!==a[1]?a[1]:30,e.prev=2,e.next=5,instance.post("/weapi/v1/discovery/recommend/songs",{limit:r,offset:t-1,total:!0});case 5:return n=e.sent,e.abrupt("return",{status:!0,data:n.recommend.map(function(e){return getMusicInfo2(e)})});case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",{status:!1,msg:"请求失败",log:e.t0});case 12:case"end":return e.stop()}},e,this,[[2,9]])}));return function(){return e.apply(this,arguments)}}(),getPersonalizedPlaylist:function(){var e=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function e(){var t,r,n=arguments;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:1,n.length>1&&void 0!==n[1]?n[1]:30,e.prev=2,e.next=5,instance.post("/weapi/personalized/playlist",{limit:30,offset:t-1,total:!0,n:1e3});case 5:return r=e.sent,e.abrupt("return",{status:!0,data:r.result});case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",{status:!1,msg:"请求失败",log:e.t0});case 12:case"end":return e.stop()}},e,this,[[2,9]])}));return function(){return e.apply(this,arguments)}}()}}},function(e,t,r){var n=r(4),a=r(5);function i(e,t){var r=n.createCipheriv("AES-128-CBC",t,"0102030405060708");return r.update(e,"utf-8","base64")+r.final("base64")}function o(e,t,r){for(var n="",i=e.length-1;i>=0;i--)n+=e[i];var o=a(new Buffer(n).toString("hex"),16),s=a(t,16),u=a(r,16);return function(e,t){var r=t.length;for(i=0;r>0&&"0"==t[i];i++)r--;for(var n=r-e.length,a="",i=0;i<n;i++)a+="0";return a+e}(o.modPow(s,u).toString(16),r)}var s={MD5:function(e){return n.createHash("md5").update(e).digest("hex")},aesRsaEncrypt:function(e){var t=function(e){for(var t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",r="",n=0;n<e;n++){var a=Math.random()*t.length;a=Math.floor(a),r+=t.charAt(a)}return r}(16);return{params:i(i(e,"0CoJUm6Qyw8W8jud"),t),encSecKey:o(t,"010001","00e0b509f6259df8642dbc35662901477df22677ec152b5ff68ace615bb7b725152b3ab17a876aea8a5aa76d2e417629ec4ee341f56135fccf695280104e0312ecbda92557c93870114af6c9d05c4f7f0c3685b7a46bee255932575cce10b424d813cfe4875d3e82047b97ddef52741d546b8e289dc6935b3ece0462db0a22b8e7")}}};e.exports=s},function(e,t){e.exports=require("querystring")},function(e,t,r){var n=function(){return this||"object"==typeof self&&self}()||Function("return this")(),a=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,i=a&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,e.exports=r(10),a)n.regeneratorRuntime=i;else try{delete n.regeneratorRuntime}catch(e){n.regeneratorRuntime=void 0}},function(e,t){!function(t){"use strict";var r,n=Object.prototype,a=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag",c="object"==typeof e,l=t.regeneratorRuntime;if(l)c&&(e.exports=l);else{(l=t.regeneratorRuntime=c?e.exports:{}).wrap=b;var p="suspendedStart",f="suspendedYield",g="executing",m="completed",h={},d={};d[o]=function(){return this};var v=Object.getPrototypeOf,_=v&&v(v(k([])));_&&_!==n&&a.call(_,o)&&(d=_);var y=S.prototype=w.prototype=Object.create(d);B.prototype=y.constructor=S,S.constructor=B,S[u]=B.displayName="GeneratorFunction",l.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===B||"GeneratorFunction"===(t.displayName||t.name))},l.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,S):(e.__proto__=S,u in e||(e[u]="GeneratorFunction")),e.prototype=Object.create(y),e},l.awrap=function(e){return{__await:e}},E(x.prototype),x.prototype[s]=function(){return this},l.AsyncIterator=x,l.async=function(e,t,r,n){var a=new x(b(e,t,r,n));return l.isGeneratorFunction(t)?a:a.next().then(function(e){return e.done?e.value:a.next()})},E(y),y[u]="Generator",y[o]=function(){return this},y.toString=function(){return"[object Generator]"},l.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},l.values=k,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(A),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=r)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,a){return s.type="throw",s.arg=e,t.next=n,a&&(t.method="next",t.arg=r),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var u=a.call(o,"catchLoc"),c=a.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),A(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;A(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=r),h}}}function b(e,t,r,n){var a=t&&t.prototype instanceof w?t:w,i=Object.create(a.prototype),o=new P(n||[]);return i._invoke=function(e,t,r){var n=p;return function(a,i){if(n===g)throw new Error("Generator is already running");if(n===m){if("throw"===a)throw i;return T()}for(r.method=a,r.arg=i;;){var o=r.delegate;if(o){var s=M(o,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===p)throw n=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=g;var u=I(e,t,r);if("normal"===u.type){if(n=r.done?m:f,u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=m,r.method="throw",r.arg=u.arg)}}}(e,r,o),i}function I(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}function w(){}function B(){}function S(){}function E(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function x(e){var t;this._invoke=function(r,n){function i(){return new Promise(function(t,i){!function t(r,n,i,o){var s=I(e[r],e,n);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"==typeof c&&a.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,i,o)},function(e){t("throw",e,i,o)}):Promise.resolve(c).then(function(e){u.value=e,i(u)},function(e){return t("throw",e,i,o)})}o(s.arg)}(r,n,t,i)})}return t=t?t.then(i,i):i()}}function M(e,t){var n=e.iterator[t.method];if(n===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=r,M(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var a=I(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,h;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=r),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=r,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:r,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){var n;n=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.i=function(e){return e},r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}([function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports={type:function(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()},isObject:function(e,t){return t?"object"===this.type(e):e&&"object"===(void 0===e?"undefined":n(e))},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},trim:function(e){return e.replace(/(^\s*)|(\s*$)/g,"")},encode:function(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")},formatParams:function(e){var t="",r=!0,a=this;if("object"!=(void 0===e?"undefined":n(e)))return e;return function e(n,i){var o=a.encode,s=a.type(n);if("array"==s)n.forEach(function(t,r){e(t,i+"%5B%5D")});else if("object"==s)for(var u in n)e(n[u],i?i+"%5B"+o(u)+"%5D":o(u));else r||(t+="&"),r=!1,t+=i+"="+o(n)}(e,""),t},merge:function(e,t){for(var r in t)e.hasOwnProperty(r)?this.isObject(t[r],1)&&this.isObject(e[r],1)&&this.merge(e[r],t[r]):e[r]=t[r];return e}}},,function(e,t,r){var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var a=r(0),i="undefined"!=typeof document,o=function(){function e(t){function r(e){var t,r;function n(){e.p=t=r=null}a.merge(e,{lock:function(){t||(e.p=new Promise(function(e,n){t=e,r=n}))},unlock:function(){t&&(t(),n())},clear:function(){r&&(r("cancel"),n())}})}!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.engine=t||XMLHttpRequest,this.default=this;var n=this.interceptors={response:{use:function(e,t){this.handler=e,this.onerror=t}},request:{use:function(e){this.handler=e}}},i=n.request;r(n.response),r(i),this.config={method:"GET",baseURL:"",headers:{},timeout:0,params:{},parseJson:!0,withCredentials:!1}}return n(e,[{key:"request",value:function(e,t,r){var n=this,o=new this.engine,s="Content-Type",u=s.toLowerCase(),c=this.interceptors,l=c.request,p=c.response,f=l.handler,g=new Promise(function(c,g){function m(e){return e&&e.then&&e.catch}function h(e,t){e?e.then(function(){t()}):t()}a.isObject(e)&&(e=(r=e).url),(r=r||{}).headers=r.headers||{},h(l.p,function(){a.merge(r,n.config);var d=r.headers;d[s]=d[s]||d[u]||"",delete d[u],r.body=t||r.body,e=a.trim(e||""),r.method=r.method.toUpperCase(),r.url=e;var v=r;f&&(v=f.call(l,r,Promise)||r),m(v)||(v=Promise.resolve(v)),v.then(function(n){n===r?function(r){t=r.body,e=a.trim(r.url);var n=a.trim(r.baseURL||"");if(e||!i||n||(e=location.href),0!==e.indexOf("http")){var l="/"===e[0];if(!n&&i){var f=location.pathname.split("/");f.pop(),n=location.protocol+"//"+location.host+(l?"":f.join("/"))}if("/"!==n[n.length-1]&&(n+="/"),e=n+(l?e.substr(1):e),i){var d=document.createElement("a");d.href=e,e=d.href}}var v=a.trim(r.responseType||""),_="GET"===r.method,y=a.type(t),b=r.params||{};_&&"object"===y&&(b=a.merge(t,b));var I=[];(b=a.formatParams(b))&&I.push(b),_&&t&&"string"===y&&I.push(t),I.length>0&&(e+=(-1===e.indexOf("?")?"?":"&")+I.join("&")),o.open(r.method,e);try{o.withCredentials=!!r.withCredentials,o.timeout=r.timeout||0,"stream"!==v&&(o.responseType=v)}catch(e){}var w=r.headers[s]||r.headers[u],B="application/x-www-form-urlencoded";for(var S in a.trim((w||"").toLowerCase())===B?t=a.formatParams(t):a.isFormData(t)||-1===["object","array"].indexOf(a.type(t))||(B="application/json;charset=utf-8",t=JSON.stringify(t)),w||_||(r.headers[s]=B),r.headers)if(S===s&&a.isFormData(t))delete r.headers[S];else try{o.setRequestHeader(S,r.headers[S])}catch(e){}function E(e,t,n){h(p.p,function(){if(e){n&&(t.request=r);var a=e.call(p,t,Promise);t=void 0===a?t:a}m(t)||(t=Promise[0===n?"resolve":"reject"](t)),t.then(function(e){c(e)}).catch(function(e){g(e)})})}function x(e){e.engine=o,E(p.onerror,e,-1)}function M(e,t){this.message=e,this.status=t}o.onload=function(){var e=o.response||o.responseText;e&&r.parseJson&&-1!==(o.getResponseHeader(s)||"").indexOf("json")&&!a.isObject(e)&&(e=JSON.parse(e));var t=o.responseHeaders;if(!t){t={};var n=(o.getAllResponseHeaders()||"").split("\r\n");n.pop(),n.forEach(function(e){if(e){var r=e.split(":")[0];t[r]=o.getResponseHeader(r)}})}var i=o.status,u=o.statusText,c={data:e,headers:t,status:i,statusText:u};if(a.merge(c,o._response),i>=200&&i<300||304===i)c.engine=o,c.request=r,E(p.handler,c,0);else{var l=new M(u,i);l.response=c,x(l)}},o.onerror=function(e){x(new M(e.msg||"Network Error",0))},o.ontimeout=function(){x(new M("timeout [ "+o.timeout+"ms ]",1))},o._options=r,setTimeout(function(){o.send(_?null:t)},0)}(n):c(n)},function(e){g(e)})})});return g.engine=o,g}},{key:"all",value:function(e){return Promise.all(e)}},{key:"spread",value:function(e){return function(t){return e.apply(null,t)}}}]),e}();o.default=o,["get","post","put","patch","head","delete"].forEach(function(e){o.prototype[e]=function(t,r,n){return this.request(t,r,a.merge({method:e},n))}}),["lock","unlock","clear"].forEach(function(e){o.prototype[e]=function(){this.interceptors.request[e]()}}),e.exports=o}])},e.exports=n()},function(e,t,r){var n;n=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.i=function(e){return e},r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports={type:function(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()},isObject:function(e,t){return t?"object"===this.type(e):e&&"object"===(void 0===e?"undefined":n(e))},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},trim:function(e){return e.replace(/(^\s*)|(\s*$)/g,"")},encode:function(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")},formatParams:function(e){var t="",r=!0,a=this;if("object"!=(void 0===e?"undefined":n(e)))return e;return function e(n,i){var o=a.encode,s=a.type(n);if("array"==s)n.forEach(function(t,r){e(t,i+"%5B%5D")});else if("object"==s)for(var u in n)e(n[u],i?i+"%5B"+o(u)+"%5D":o(u));else r||(t+="&"),r=!1,t+=i+"="+o(n)}(e,""),t},merge:function(e,t){for(var r in t)e.hasOwnProperty(r)?this.isObject(t[r],1)&&this.isObject(e[r],1)&&this.merge(e[r],t[r]):e[r]=t[r];return e}}},function(e,t,r){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var i=r(0),o="undefined"!=typeof document;e.exports=function(e){return function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.requestHeaders={},this.readyState=0,this.timeout=0,this.responseURL="",this.responseHeaders={}}return a(t,[{key:"_call",value:function(e){this[e]&&this[e].apply(this,[].splice.call(arguments,1))}},{key:"_changeReadyState",value:function(e){this.readyState=e,this._call("onreadystatechange")}},{key:"open",value:function(e,t){if(this.method=e,t){if(0!==(t=i.trim(t)).indexOf("http")&&o){var r=document.createElement("a");r.href=t,t=r.href}}else t=location.href;this.responseURL=t,this._changeReadyState(1)}},{key:"send",value:function(t){var r=this;t=t||null;var a=this;if(e){var s,u={method:a.method,url:a.responseURL,headers:a.requestHeaders||{},body:t};i.merge(u,a._options||{}),"GET"===u.method&&(u.body=null),a._changeReadyState(3),a.timeout=a.timeout||0,a.timeout>0&&(s=setTimeout(function(){3===a.readyState&&(r._call("onloadend"),a._changeReadyState(0),a._call("ontimeout"))},a.timeout)),u.timeout=a.timeout,e(u,function(e){function t(t){var r=e[t];return delete e[t],r}if(3===a.readyState){clearTimeout(s),a.status=t("statusCode")-0;var r=t("responseText"),i=t("statusMessage");if(a.status){var u=t("headers"),c={};for(var l in u){var p=u[l],f=l.toLowerCase();"object"===(void 0===p?"undefined":n(p))?c[f]=p:(c[f]=c[f]||[],c[f].push(p))}var g=c["set-cookie"];o&&g&&g.forEach(function(e){document.cookie=e.replace(/;\s*httpOnly/gi,"")}),a.responseHeaders=c,a.statusText=i||"",a.response=a.responseText=r,a._response=e,a._changeReadyState(4),a._call("onload")}else a.statusText=r,a._call("onerror",{msg:i});a._call("onloadend")}})}else console.error("Ajax require adapter")}},{key:"setRequestHeader",value:function(e,t){this.requestHeaders[i.trim(e)]=t}},{key:"getResponseHeader",value:function(e){return(this.responseHeaders[e.toLowerCase()]||"").toString()||null}},{key:"getAllResponseHeaders",value:function(){var e="";for(var t in this.responseHeaders)e+=t+":"+this.getResponseHeader(t)+"\r\n";return e||null}},{key:"abort",value:function(e){this._changeReadyState(0),this._call("onerror",{msg:e}),this._call("onloadend")}}],[{key:"setAdapter",value:function(t){e=t}}]),t}()}}])},e.exports=n()},function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),i=r(1),o=r.n(i),s=r(6),u=r(3),c=r.n(u),l=r(2),p=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace("http","https").replace("_1.jpg","_4.jpg").replace("_1.png","_4.png")},f=r(4),g=r(5),m="00e0b509f6259df8642dbc35662901477df22677ec152b5ff68ace615bb7b725152b3ab17a876aea8a5aa76d2e417629ec4ee341f56135fccf695280104e0312ecbda92557c93870114af6c9d05c4f7f0c3685b7a46bee255932575cce10b424d813cfe4875d3e82047b97ddef52741d546b8e289dc6935b3ece0462db0a22b8e7",h="0CoJUm6Qyw8W8jud",d="010001";function v(e,t){var r=e,n=new Buffer.from("0102030405060708","binary"),a=new Buffer.from(t,"binary"),i=f.createCipheriv("AES-128-CBC",a,n),o=i.update(r,"utf8","base64");return o+=i.final("base64")}String.prototype.hexEncode=function(){var e,t="";for(e=0;e<this.length;e++)t+=(""+this.charCodeAt(e).toString(16)).slice(-4);return t};var _=function(e){var t=JSON.stringify(e),r=function(e){for(var t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",r="",n=0;n<e;n++){var a=Math.random()*t.length;a=Math.floor(a),r+=t.charAt(a)}return r}(16);return{params:v(v(t,h),r),encSecKey:function(e,t,r){var n=e.split("").reverse().join(""),a=g(new Buffer.from(n).toString("hex"),16),i=g(t,16),o=g(r,16);return function(e,t){for(;e.length<t;)e="0"+e;return e}(a.modPow(i,o).toString(16),256)}(r,d,m)}},y={cache:null,isBrowser:"undefined"!=typeof window,init:function(){if(this.isBrowser){var e=localStorage.getItem("music-api-xiami-cookie-cache");e&&(e=JSON.parse(e)).expire>+new Date&&this.setCache(e)}},getCache:function(){if(this.cache&&this.cache.expire>+new Date){var e=this.cache,t=e._m_h5_tk,r=e._m_h5_tk_enc;return{cookie:"_m_h5_tk=".concat(t,"; _m_h5_tk_enc=").concat(r),signedToken:t.split("_")[0]}}return null},setCache:function(e){var t=e._m_h5_tk,r=e._m_h5_tk_enc,n=e.expire,a=void 0===n?+new Date+6048e5:n;this.cache={_m_h5_tk:t,_m_h5_tk_enc:r,expire:a},this.isBrowser&&localStorage.setItem("music-api-xiami-cookie-cache",JSON.stringify(this.cache))}};y.init();var b=y,I=r(7),w=r.n(I),B=r(8),S=r.n(B),E=!0,x=function(e){var t=e();return t.config.baseURL="http://acs.m.xiami.com/h5",t.config.timeout=5e3,t.config.headers={Host:"acs.m.xiami.com","Content-Type":"application/x-www-form-urlencoded"},t.config.rejectUnauthorized=!1,t.interceptors.request.use(function(e){if(e.pureFly)return e.headers={},e.baseURL="",e;if(e.webApi){e.baseURL="http://api.xiami.com",e.headers={Cookie:"user_from=2;XMPLAYER_addSongsToggler=0;XMPLAYER_isOpen=0;_xiamitoken=cb8bfadfe130abdbf5e2282c30f0b39a;",Referer:"http://h.xiami.com/"};var r=S.a.stringify(e.body);return e.body=r,e.url+=r,e}var n=b.getCache();return!E&&n||t.lock(),e.headers.Cookie="uidXM=1; ".concat(n?n.cookie:""),e.bodycopy=e.body,e.body=function(e,t){var r=JSON.stringify({requestStr:JSON.stringify({header:{appId:200,appVersion:1e6,callId:(new Date).getTime(),network:1,platformId:"mac",remoteIp:"192.168.1.101",resolution:"1178*778"},model:t})}),n=(new Date).getTime(),a=b.getCache();return{appKey:12574478,t:n,sign:w.a.MD5("".concat(a?a.signedToken:"","&").concat(n,"&").concat(12574478,"&").concat(r)),api:e,v:"1.0",type:"originaljson",dataType:"json",data:r}}(e.url,e.body),e.urlcopy=e.url,e.url="/".concat(e.url,"/1.0/"),e}),t.interceptors.response.use(function(){var e=o()(a.a.mark(function e(r){var n,i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.request.pureFly){e.next=2;break}return e.abrupt("return",r);case 2:if(!r.request.webApi){e.next=8;break}if(r.data){e.next=5;break}return e.abrupt("return",Promise.reject({status:!1,msg:"请求无结果"}));case 5:if(0===r.data.state||r.data.status){e.next=7;break}return e.abrupt("return",Promise.reject({status:!1,msg:"请求失败",log:r.data}));case 7:return e.abrupt("return",r.data.data);case 8:if(E=!1,e.prev=9,!r.headers["set-cookie"]){e.next=16;break}return n={},r.headers["set-cookie"].map(function(e){return e.split(";")[0].trim()}).map(function(e){return e.split("=")}).forEach(function(e){n[e[0]]=e[1]}),b.setCache(n),t.unlock(),e.abrupt("return",t.get(r.request.urlcopy,r.request.bodycopy).then(function(e){return e}).catch(function(e){return e}));case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(9),console.warn("返回cookie格式变化，请检查",r,e.t0);case 21:if(t.unlock(),!(i=r.data.ret[0]).startsWith("SUCCESS")){e.next=27;break}return e.abrupt("return",r.data.data.data);case 27:return e.abrupt("return",Promise.reject({status:!1,msg:i.split("::")[1],log:r}));case 28:case"end":return e.stop()}},e,this,[[9,18]])}));return function(t){return e.apply(this,arguments)}}(),function(e){return console.warn(e),Promise.reject({status:!1,msg:"请求失败",log:e})}),t},M=function(e){var t,r=Object(s.a)(((t=e()).config.baseURL="https://music.163.com",t.config.timeout=5e3,t.config.headers={Accept:"*/*","Accept-Language":"zh-CN,zh;q=0.8,gl;q=0.6,zh-TW;q=0.4",Connection:"keep-alive","Content-Type":"application/x-www-form-urlencoded",Referer:"https://music.163.com",Host:"music.163.com","User-Agent":Object(l.d)(),Cookie:Object(l.a)()},t.config.rejectUnauthorized=!1,t.interceptors.request.use(function(e){if(e.pureFly)return e;var t=_(e.body);if("undefined"!=typeof window){var r=localStorage.getItem("@suen/music-api-netease-login-cookie");r&&(e.headers.Cookie=r)}return e.body={params:t.params,encSecKey:t.encSecKey},e},function(e){return Promise.reject(e)}),t.interceptors.response.use(function(e){if(e.request.pureFly)return e;if(!e.data)return Promise.reject({status:!1,msg:"请求无结果"});var t="string"==typeof e.data?JSON.parse(e.data):e.data;return 200!==t.code?Promise.reject({status:!1,msg:"请求失败",log:e.data}):t},function(e){return Promise.reject(e)}),t)),n=function(e){var t=function(e){return e.file,{album:{id:e.album.id,name:e.album.name,cover:"https://y.gtimg.cn/music/photo_new/T002R300x300M000".concat(e.album.mid,".jpg")},artists:e.singer.map(function(e){return{id:e.id,name:e.name}}),name:e.title,id:e.id,cp:3===e.action.msg||!e.interval,dl:!e.pay.pay_down,quality:{192:!1,320:!1,999:!1},mv:e.mv.vid}},r=function(e){return{album:{id:e.albumid,name:e.albumname,cover:"https://y.gtimg.cn/music/photo_new/T002R300x300M000".concat(e.albummid,".jpg")},artists:e.singer.map(function(e){return{id:e.id,name:e.name}}),name:e.songname,id:e.songid,cp:3===e.msgid||!e.interval,dl:!e.pay.paydownload,quality:{192:!1,320:!1,999:!1},mv:e.vid}};return{instance:e,searchSong:(w=o()(a.a.mark(function r(n){var i,o,s,u,c,l;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return i=n.keyword,o=n.limit,s=void 0===o?30:o,u=n.offset,c={p:(void 0===u?0:u)+1,n:s,w:i,ct:24,remoteplace:"txt.yqq.song",aggr:1,cr:1,lossless:0},r.prev=2,r.next=5,e.get("/soso/fcgi-bin/client_search_cp",c);case 5:return l=r.sent,r.abrupt("return",{status:!0,data:{total:l.data.song.totalnum,songs:l.data.song.list.map(function(e){return t(e)})}});case 9:return r.prev=9,r.t0=r.catch(2),r.abrupt("return",r.t0);case 12:case"end":return r.stop()}},r,this,[[2,9]])})),function(e){return w.apply(this,arguments)}),getSongDetail:(I=o()(a.a.mark(function r(n){var i,o,s,u,p,f=arguments;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return i=f.length>1&&void 0!==f[1]&&f[1],o=f.length>2&&void 0!==f[2]?f[2]:"songid",r.prev=2,r.next=5,e.get("/v8/fcg-bin/fcg_play_single_song.fcg",(s={},c()(s,o,n),c()(s,"tpl","yqq_song_detail"),s));case 5:if(u=r.sent,p=u.data[0]){r.next=9;break}return r.abrupt("return",{status:!1,msg:l.c});case 9:return r.abrupt("return",{status:!0,data:i?p:t(p)});case 12:return r.prev=12,r.t0=r.catch(2),r.abrupt("return",r.t0);case 15:case"end":return r.stop()}},r,this,[[2,12]])})),function(e){return I.apply(this,arguments)}),getBatchSongDetail:(b=o()(a.a.mark(function r(n){var i;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.get("/v8/fcg-bin/fcg_play_single_song.fcg",{songid:n.join(","),tpl:"yqq_song_detail"});case 3:return i=r.sent,r.abrupt("return",{status:!0,data:i.data.map(function(e){return t(e)})});case 7:return r.prev=7,r.t0=r.catch(0),r.abrupt("return",r.t0);case 10:case"end":return r.stop()}},r,this,[[0,7]])})),function(e){return b.apply(this,arguments)}),getMid:(y=o()(a.a.mark(function e(t){var r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSongDetail(t,!0);case 2:if((r=e.sent).status){e.next=5;break}throw new Error(r.msg);case 5:return e.abrupt("return",r.data.mid);case 6:case"end":return e.stop()}},e,this)})),function(e){return y.apply(this,arguments)}),getSongUrl:(_=o()(a.a.mark(function t(r){var n,i,o,s,u,c,l=arguments;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=l.length>1&&void 0!==l[1]?l[1]:128e3,n=parseInt(n),i=Math.floor(1e9*Math.random()),t.prev=3,t.next=6,e.get("/base/fcgi-bin/fcg_musicexpress.fcg",{json:3,guid:i});case 6:return s=t.sent,u=s.key,t.next=10,this.getMid(r);case 10:c=t.sent,t.t0=n,t.next=128e3===t.t0?14:32e4===t.t0?16:999e3===t.t0?18:20;break;case 14:return o={status:!0,data:{url:"http://dl.stream.qqmusic.qq.com/M500".concat(c,".mp3?vkey=").concat(u,"&guid=").concat(i,"&fromtag=30")}},t.abrupt("break",21);case 16:return o={status:!0,data:{url:"http://dl.stream.qqmusic.qq.com/M800".concat(c,".mp3?vkey=").concat(u,"&guid=").concat(i,"&fromtag=30")}},t.abrupt("break",21);case 18:return o={status:!0,data:{url:"http://dl.stream.qqmusic.qq.com/F000".concat(c,".flac?vkey=").concat(u,"&guid=").concat(i,"&fromtag=54")}},t.abrupt("break",21);case 20:throw new Error("br有误");case 21:t.next=26;break;case 23:t.prev=23,t.t1=t.catch(3),o={status:!1,msg:t.t1.message||"请求失败",log:t.t1};case 26:return t.abrupt("return",o);case 27:case"end":return t.stop()}},t,this,[[3,23]])})),function(e){return _.apply(this,arguments)}),getLyric:(v=o()(a.a.mark(function t(r){var n,i;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.getMid(r);case 3:return n=t.sent,t.next=6,e.get("/lyric/fcgi-bin/fcg_query_lyric_new.fcg",{pcachetime:Date.parse(new Date),songmid:n});case 6:if(!(i=t.sent).lyric){t.next=11;break}return t.abrupt("return",{status:!0,data:{lyric:Object(l.b)(new Buffer(i.lyric,"base64").toString()),translate:Object(l.b)(new Buffer(i.trans,"base64").toString())}});case 11:return t.abrupt("return",{status:!0,data:{lyric:[],translate:[]}});case 12:t.next=17;break;case 14:return t.prev=14,t.t0=t.catch(0),t.abrupt("return",t.t0);case 17:case"end":return t.stop()}},t,this,[[0,14]])})),function(e){return v.apply(this,arguments)}),getComment:(d=o()(a.a.mark(function t(r){var n,i,o,s,u,c=arguments;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:1,i=c.length>2&&void 0!==c[2]?c[2]:20,t.prev=2,t.next=5,e.get("/base/fcgi-bin/fcg_global_comment_h5.fcg",{reqtype:2,biztype:1,topid:r,cmd:8,needmusiccrit:0,pagenum:n-1,pagesize:i,lasthotcommentid:"",domain:"qq.com"});case 5:return o=t.sent,s=o.comment,u=o.hot_comment,t.abrupt("return",{status:!0,data:{hotComments:u&&u.commentlist?u.commentlist:[],comments:s.commentlist||[],total:s.commenttotal}});case 11:return t.prev=11,t.t0=t.catch(2),t.abrupt("return",t.t0);case 14:case"end":return t.stop()}},t,this,[[2,11]])})),function(e){return d.apply(this,arguments)}),getArtistSongs:(h=o()(a.a.mark(function t(n,i,o){var s,u,c;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s={platform:"h5page",from:"h5",singerid:n,order:"listen",begin:i*o,num:o,songstatus:1},t.next=4,e.get("/v8/fcg-bin/fcg_v8_singer_track_cp.fcg",s);case 4:return u=t.sent,c=u.data,t.abrupt("return",{status:!0,data:{detail:{id:n,name:c.singer_name,avatar:"http://y.gtimg.cn/music/photo_new/T001R300x300M000".concat(c.singer_mid,".jpg"),desc:c.SingerDesc},songs:c.list.map(function(e){return r(e.musicData)})}});case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return",t.t0);case 12:case"end":return t.stop()}},t,this,[[0,9]])})),function(e,t,r){return h.apply(this,arguments)}),getPlaylistDetail:(m=o()(a.a.mark(function t(n,i,o){var s,u,c;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s={type:1,onlysong:0,disstid:n},t.next=4,e.get("/qzone/fcg-bin/fcg_ucc_getcdinfo_byids_cp.fcg",s);case 4:return u=t.sent,c=u.cdlist,t.abrupt("return",{status:!0,data:{detail:{id:c[0].disstid,name:c[0].dissname,cover:c[0].logo,desc:c[0].desc},songs:c[0].songlist.map(function(e){return r(e)})}});case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return",t.t0);case 12:case"end":return t.stop()}},t,this,[[0,9]])})),function(e,t,r){return m.apply(this,arguments)}),getMusicu:function(t){return e.get("/cgi-bin/musicu.fcg",{data:JSON.stringify(t)},{newApi:!0})},getArtists:(g=o()(a.a.mark(function e(){var t,r,n,i,o,s,u,c,l,p,f,g,m,h=arguments;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.length>0&&void 0!==h[0]?h[0]:0,r=h.length>1?h[1]:void 0,i=(n=r||{}).area,o=void 0===i?-100:i,s=n.sex,u=void 0===s?-100:s,c=n.genre,l=void 0===c?-100:c,p=n.index,f=void 0===p?-100:p,e.prev=3,e.next=6,this.getMusicu({comm:{ct:24,cv:1e4},singerList:{module:"Music.SingerListServer",method:"get_singer_list",param:{area:o,sex:u,genre:l,index:f,sin:80*t,cur_page:t+1}}});case 6:return g=e.sent,m=g.singerList,e.abrupt("return",{status:!0,data:m.data});case 11:return e.prev=11,e.t0=e.catch(3),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}},e,this,[[3,11]])})),function(){return g.apply(this,arguments)}),getAlbumDetail:(f=o()(a.a.mark(function t(n){var i,o;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.get("https://c.y.qq.com/v8/fcg-bin/fcg_v8_album_info_cp.fcg",{albumid:n,tpl:"yqq_song_detail"});case 3:return i=t.sent,o=i.data,t.abrupt("return",{status:!0,data:{name:o.name,cover:"https://y.gtimg.cn/music/photo_new/T002R300x300M000".concat(o.mid,".jpg"),artist:{id:o.singerid,name:o.singername},desc:o.desc,publishTime:Date.parse(o.aDate),songs:o.list.map(function(e){return r(e)})}});case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",t.t0);case 11:case"end":return t.stop()}},t,this,[[0,8]])})),function(e){return f.apply(this,arguments)}),getAllTopList:(p=o()(a.a.mark(function t(){var r,n;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={page:"index",format:"html",tpl:"macv4",v8debug:1},t.prev=1,t.next=4,e.get("/v8/fcg-bin/fcg_v8_toplist_opt.fcg",r,{nocode:!0});case 4:return n=t.sent,t.abrupt("return",{status:!0,data:n.reduce(function(e,t){return e.List.concat(t.List)}).map(function(e){return{id:e.topID,name:e.ListName,cover:e.MacListPicUrl,list:e.songlist.map(function(e,t){return{artists:{id:e.singerid,name:e.singername},name:e.songname,id:e.songid}})}})});case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",t.t0);case 11:case"end":return t.stop()}},t,this,[[1,8]])})),function(){return p.apply(this,arguments)}),getTopList:(u=o()(a.a.mark(function t(n){var i,o;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i={platform:"h5",topid:n,tpl:3,page:"detail",type:"top"},t.prev=1,t.next=4,e.get("/v8/fcg-bin/fcg_v8_toplist_cp.fcg",i);case 4:return o=t.sent,t.abrupt("return",{status:!0,data:{name:o.topinfo.ListName,description:o.topinfo.info,cover:o.topinfo.MacDetailPicUrl,playCount:o.topinfo.listennum,list:o.songlist.map(function(e){return r(e.data)})}});case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",t.t0);case 11:case"end":return t.stop()}},t,this,[[1,8]])})),function(e){return u.apply(this,arguments)}),getUserInfo:(s=o()(a.a.mark(function t(){var r,n;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.get("/portalcgi/fcgi-bin/music_mini_portal/fcg_getuser_infoEx.fcg");case 3:return r=t.sent,n=r.data,t.abrupt("return",{status:!0,data:n});case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",t.t0);case 11:case"end":return t.stop()}},t,this,[[0,8]])})),function(){return s.apply(this,arguments)}),getRecommendPlaylist:(i=o()(a.a.mark(function e(){var t,r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getMusicu({comm:{ct:24},recomPlaylist:{method:"get_hot_recommend",param:{async:1,cmd:2},module:"playlist.HotRecommendServer"}});case 3:return t=e.sent,r=t.recomPlaylist,e.abrupt("return",{status:!0,data:r.data.v_hot});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])})),function(){return i.apply(this,arguments)}),getRecommendSongs:(n=o()(a.a.mark(function e(){var r,n,i,o=arguments;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>0&&void 0!==o[0]?o[0]:1,o.length>1&&void 0!==o[1]&&o[1],e.prev=2,e.next=5,this.getMusicu({comm:{ct:6,cv:50500},get_daily_track:{module:"music.ai_track_daily_svr",method:"get_daily_track",param:{id:99,cmd:0,page:r-1}}});case 5:return n=e.sent,i=n.get_daily_track,e.abrupt("return",{status:!0,data:i.data.tracks.map(function(e){return t(e)})});case 10:return e.prev=10,e.t0=e.catch(2),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}},e,this,[[2,10]])})),function(){return n.apply(this,arguments)})};var n;var i;var s;var u;var p;var f;var g;var m;var h;var d;var v;var _;var y;var b;var I;var w}(function(e){var t=e();return t.config.baseURL="https://c.y.qq.com",t.config.timeout=5e3,t.config.parseJson=!1,t.config.headers={Referer:"https://y.qq.com/portal/player.html","User-Agent":Object(l.d)()},t.config.rejectUnauthorized=!1,t.interceptors.request.use(function(e){e.newApi&&(e.baseURL="https://u.y.qq.com",delete e.newApi);var t,r=0,n=5381;if("undefined"!=typeof window){var a=localStorage.getItem("@suen/music-api-qq-login-cookie");if(a)try{e.headers.Cookie=a;var i={};a.replace(/\s*/g,"").split(";").map(function(e){return e.split("=")}).forEach(function(e){i[e[0]]=e[1]}),r=i.uin.substring(2),t=i.p_skey||i.skey||i.p_lskey||i.lskey,n=function(e){for(var t=5381,r=0,n=e.length;n>r;++r)t+=(t<<5)+e.charCodeAt(r);return 2147483647&t}(t)}catch(e){console.warn(e)}}return e.body=Object.assign({},{g_tk:n,format:"jsonp",callback:"callback",jsonpCallback:"callback",loginUin:r,hostUin:0,inCharset:"utf8",outCharset:"utf-8",notice:0,platform:"yqq",needNewCode:0,new_json:1},e.body),e},function(e){return Promise.reject(e)}),t.interceptors.response.use(function(e){if(!e.data)return Promise.reject({status:!1,msg:"请求无结果"});var t=!1;return["callback","jsonCallback","MusicJsonCallback"].forEach(function(r){if(e.data.toString().trim().startsWith(r)){var n=new RegExp(r+"\\(([\\s\\S]*)\\)"),a=e.data.match(n);e.data=JSON.parse(a[1]),t=!0}}),t?e.request.nocode||0===e.data.code?e.data:Promise.reject({status:!1,msg:"请求结果报错",log:e.data}):Promise.reject({status:!1,msg:"请求结果错误",log:e.data})},function(e){return console.warn(e),Promise.reject({status:!1,msg:"请求失败",log:e})}),t}(e)),i=function(e){var t=function(e){var t=e.purviewRoleVOs,r={};return t.forEach(function(e){r[e.quality]=!e.operationVOs[0].needVip}),{album:{id:e.albumId,name:e.albumName,cover:p(e.albumLogo)},artists:[{id:e.artistId,name:e.artistName}],name:e.songName,id:e.songId,cp:!e.listenFiles.length,dl:!e.needPayFlag,quality:{192:!1,320:r.h,999:r.s},mv:e.mvId}};return{instance:e,searchSong:(d=o()(a.a.mark(function t(r){var n,i,o,s,u,c,l;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.keyword,i=r.limit,o=void 0===i?30:i,s=r.offset,u=void 0===s?0:s,t.prev=1,c={v:"2.0",key:n,limit:o,page:u+1,r:"search/songs",app_key:1},t.next=5,e.post("/web?",c,{webApi:!0});case 5:return l=t.sent,t.abrupt("return",{status:!0,data:{total:l.total,songs:l.songs.map(function(e){return r=(t=e).purview_roles,n={},r.forEach(function(e){n[e.quality]=!e.operation_list[0].upgrade_role}),{album:{id:t.album_id,name:t.album_name,cover:p(t.album_logo)},artists:[{id:t.artist_id,name:t.artist_name}],name:t.song_name,id:t.song_id,cp:!t.listen_file,dl:!t.need_pay_flag,quality:{192:!1,320:n.h,999:n.s},mv:!1};var t,r,n})}});case 9:return t.prev=9,t.t0=t.catch(1),t.abrupt("return",t.t0);case 12:case"end":return t.stop()}},t,this,[[1,9]])})),function(e){return d.apply(this,arguments)}),getSongDetail:(h=o()(a.a.mark(function r(n){var i,o,s,u=arguments;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return i=u.length>1&&void 0!==u[1]&&u[1],r.prev=1,r.next=4,e.get("mtop.alimusic.music.songservice.getsongs",{songIds:[n]});case 4:if(o=r.sent,s=o.songs[0]){r.next=8;break}return r.abrupt("return",{status:!1,msg:l.c});case 8:if(!i){r.next=10;break}return r.abrupt("return",{status:!0,data:s});case 10:return r.abrupt("return",{status:!0,data:t(s)});case 13:return r.prev=13,r.t0=r.catch(1),r.abrupt("return",r.t0);case 16:case"end":return r.stop()}},r,this,[[1,13]])})),function(e){return h.apply(this,arguments)}),getBatchSongDetail:(m=o()(a.a.mark(function r(n){var i;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.get("mtop.alimusic.music.songservice.getsongs",{songIds:n});case 3:return i=r.sent,r.abrupt("return",{status:!0,data:i.songs.map(function(e){return t(e)})});case 7:return r.prev=7,r.t0=r.catch(0),r.abrupt("return",r.t0);case 10:case"end":return r.stop()}},r,this,[[0,7]])})),function(e){return m.apply(this,arguments)}),getSongUrl:(g=o()(a.a.mark(function e(t){var r,n,i,o,s=arguments;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:128e3,r=parseInt(r),e.prev=2,e.next=5,this.getSongDetail(t,!0);case 5:i=e.sent,o={},i.data.listenFiles.forEach(function(e){o[e.quality]=e.listenFile}),e.t0=r,e.next=128e3===e.t0?11:32e4===e.t0?13:999e3===e.t0?15:17;break;case 11:return n=o.l,e.abrupt("break",18);case 13:return n=o.h,e.abrupt("break",18);case 15:return n=o.s,e.abrupt("break",18);case 17:throw new Error("br有误");case 18:return e.abrupt("return",{status:!0,data:{url:n}});case 21:return e.prev=21,e.t1=e.catch(2),e.abrupt("return",{status:!1,msg:"请求失败",log:e.t1});case 24:case"end":return e.stop()}},e,this,[[2,21]])})),function(e){return g.apply(this,arguments)}),getLyric:(f=o()(a.a.mark(function t(r){var n,i,o,s;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.getSongDetail(r,!0);case 3:if(!(i=t.sent).status){t.next=8;break}n=i.data.lyricInfo.lyricFile,t.next=9;break;case 8:return t.abrupt("return",{status:!1,data:[],log:i.log});case 9:t.next=14;break;case 11:return t.prev=11,t.t0=t.catch(0),t.abrupt("return",{status:!0,data:[],log:t.t0});case 14:if(!n){t.next=28;break}return t.prev=15,t.next=18,e.get(n,{},{pureFly:!0});case 18:return o=t.sent,s=o.data,t.abrupt("return",{status:!0,data:Object(l.b)(s,!0)});case 23:return t.prev=23,t.t1=t.catch(15),t.abrupt("return",{status:!0,data:{lyric:[],translate:[]},log:t.t1});case 26:t.next=29;break;case 28:return t.abrupt("return",{status:!0,data:{lyric:[],translate:[]},log:"未获取到歌曲url"});case 29:case"end":return t.stop()}},t,this,[[0,11],[15,23]])})),function(e){return f.apply(this,arguments)}),getComment:(c=o()(a.a.mark(function t(r,n,i){var o;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.get("mtop.alimusic.social.commentservice.getcommentlist",{objectId:r,objectType:"song",pagingVO:{page:n,pageSize:i}});case 3:return o=t.sent,t.abrupt("return",{status:!0,data:{hotComments:[],comments:o.commentVOList||[],total:o.pagingVO.count}});case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])})),function(e,t,r){return c.apply(this,arguments)}),parseLocation:function(e){for(var t,r=parseInt(e.substr(0,1)),n=e.substr(1),a=r,i=parseInt(n.length/a)+1,o="",s=0;s<r;s++)(n.length-s)/r===parseInt(n.length/r)&&(t=s);for(var u=0;u<i;u++)for(var c=0;c<r;c++)u===i-1&&c>=t||(o+=c<t?n[c*i+u]:n[i*t+(c-t)*(i-1)+u]);return decodeURIComponent(o).replace(/\^/g,"0")},getArtistDetail:(u=o()(a.a.mark(function t(r){var n,i;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.get("mtop.alimusic.music.artistservice.getartistdetail",{artistId:r});case 3:return n=t.sent,i=n.artistDetailVO,t.abrupt("return",{status:!0,data:{id:r,name:i.artistName,avatar:i.artistLogo,desc:i.description}});case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",t.t0);case 11:case"end":return t.stop()}},t,this,[[0,8]])})),function(e){return u.apply(this,arguments)}),getArtistSongs:(s=o()(a.a.mark(function r(n,i,o){var s,u,c;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,this.getArtistDetail(n);case 3:return s=r.sent,u=s.status?s.data:{},r.next=7,e.get("mtop.alimusic.music.songservice.getartistsongs",{artistId:n,backwardOffSale:!0,pagingVO:{page:i+1,pageSize:o}});case 7:return c=r.sent,r.abrupt("return",{status:!0,data:{detail:u,songs:c.songs.map(function(e){return t(e)})}});case 11:return r.prev=11,r.t0=r.catch(0),r.abrupt("return",r.t0);case 14:case"end":return r.stop()}},r,this,[[0,11]])})),function(e,t,r){return s.apply(this,arguments)}),getPlaylistInfo:(i=o()(a.a.mark(function t(r){var n,i;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.get("mtop.alimusic.music.list.collectservice.getcollectdetail",{listId:r,isFullTags:!1});case 3:return n=t.sent,i=n.collectDetail,t.abrupt("return",{status:!0,data:{id:i.listId,name:i.collectName,cover:i.collectLogo,desc:i.description}});case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",t.t0);case 11:case"end":return t.stop()}},t,this,[[0,8]])})),function(e){return i.apply(this,arguments)}),getPlaylistDetail:(n=o()(a.a.mark(function r(n,i,o){var s,u,c,l;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,this.getPlaylistInfo(n);case 3:return s=r.sent,u=s.status?s.data:{},r.next=7,e.get("mtop.alimusic.music.list.collectservice.getcollectsongs",{listId:n,pagingVO:{page:i+1,pageSize:o}});case 7:return c=r.sent,l=c.songs,r.abrupt("return",{status:!0,data:{detail:u,songs:l.map(function(e){return t(e)})}});case 12:return r.prev=12,r.t0=r.catch(0),r.abrupt("return",r.t0);case 15:case"end":return r.stop()}},r,this,[[0,12]])})),function(e,t,r){return n.apply(this,arguments)}),getAlbumDetail:(r=o()(a.a.mark(function r(n){var i,o;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.get("mtop.alimusic.music.albumservice.getalbumdetail",{albumId:n});case 3:return i=r.sent,o=i.albumDetail,r.abrupt("return",{status:!0,data:{name:o.albumName,cover:o.albumLogo,artist:{id:o.artistId,name:o.artistName},desc:o.description,publishTime:o.gmtPublish,songs:o.songs.map(function(e){return t(e)})}});case 8:return r.prev=8,r.t0=r.catch(0),r.abrupt("return",r.t0);case 11:case"end":return r.stop()}},r,this,[[0,8]])})),function(e){return r.apply(this,arguments)})};var r;var n;var i;var s;var u;var c;var f;var g;var m;var h;var d}(x(e)),u=["netease","qq","xiami"],f=function(e,t){return u.includes(e)?!t||Array.isArray(t)&&!t.length?Promise.reject({status:!1,msg:"id不能为空"}):void 0:Promise.reject({status:!1,msg:"vendor错误"})},g=function(){var e=o()(a.a.mark(function e(t,o,s){var u,c,l;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r[t](o);case 2:return u=(u=e.sent).status?u.data:s,e.next=6,n[t](o);case 6:return c=(c=e.sent).status?c.data:s,e.next=10,i[t](o);case 10:return l=(l=e.sent).status?l.data:s,e.abrupt("return",{status:!0,data:{netease:u,qq:c,xiami:l}});case 13:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}();return{netease:r,qq:n,xiami:i,searchSong:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e?g("searchSong",{keyword:e,offset:t},{total:0,songs:[]}):{status:!1,msg:"查询参数不能为空"}},getSongDetail:function(){var e=o()(a.a.mark(function e(t,r){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(t,r);case 2:return e.next=4,this[t].getSongDetail(r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}(),getBatchSongDetail:function(){var e=o()(a.a.mark(function e(t,r){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(t,r);case 2:return e.next=4,this[t].getBatchSongDetail(r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}(),getSongUrl:function(){var e=o()(a.a.mark(function e(t,r){var n,i=arguments;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>2&&void 0!==i[2]?i[2]:128e3,e.next=3,f(t,r);case 3:return e.next=5,this[t].getSongUrl(r,n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}(),getLyric:function(){var e=o()(a.a.mark(function e(t,r){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(t,r);case 2:return e.next=4,this[t].getLyric(r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}(),getTopList:function(e){return e?r.getTopList(e):{status:!1,msg:"id不能为空"}},getComment:function(){var e=o()(a.a.mark(function e(t,r){var n,i,o=arguments;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>2&&void 0!==o[2]?o[2]:1,i=o.length>3&&void 0!==o[3]?o[3]:20,e.next=4,f(t,r);case 4:return e.next=6,this[t].getComment(r,n,i);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}(),getArtistSongs:function(){var e=o()(a.a.mark(function e(t,r){var n,i,o=arguments;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>2&&void 0!==o[2]?o[2]:0,i=o.length>3&&void 0!==o[3]?o[3]:50,e.next=4,f(t,r);case 4:return e.next=6,this[t].getArtistSongs(r,n,i);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}(),getPlaylistDetail:function(){var e=o()(a.a.mark(function e(t,r){var n,i,o=arguments;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>2&&void 0!==o[2]?o[2]:0,i=o.length>3&&void 0!==o[3]?o[3]:65535,e.next=4,f(t,r);case 4:return e.next=6,this[t].getPlaylistDetail(r,n,i);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}(),getAlbumDetail:function(){var e=o()(a.a.mark(function e(t,r){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(t,r);case 2:return e.next=4,this[t].getAlbumDetail(r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}(),getAnyVendorSongDetail:function(){var e=o()(a.a.mark(function e(t){var r,n,i,o,s,u,c,l,p,f,g,m,h,d,v,_,y=this,b=arguments;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=b.length>1&&void 0!==b[1]?b[1]:0,n={netease:[],qq:[],xiami:[]},t.forEach(function(e){n[e.vendor].push(e.id)}),i={},o=Object.keys(n),s=a.a.mark(function e(){var t,s,c,l,p,f;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o[u],(s=n[t]).length){e.next=4;break}return e.abrupt("return","continue");case 4:c={qq:50,netease:1e3,xiami:250}[t],l=[],p=0;case 7:if(!(p<s.length)){e.next=21;break}if(l.push(s[p]),l.length!==c&&p+1!==s.length){e.next=18;break}return e.next=12,y.getBatchSongDetail(t,l);case 12:if((f=e.sent).status?f.data.forEach(function(e){i["".concat(t,"_").concat(e.id)]=e}):console.warn("".concat(t,"获取详情失败")),l=[],!r){e.next=18;break}return e.next=18,new Promise(function(e){setTimeout(function(){e()},r)});case 18:p++,e.next=7;break;case 21:case"end":return e.stop()}},e,this)}),u=0;case 7:if(!(u<o.length)){e.next=15;break}return e.delegateYield(s(),"t0",9);case 9:if("continue"!==e.t0){e.next=12;break}return e.abrupt("continue",12);case 12:u++,e.next=7;break;case 15:for(c=[],l=!0,p=!1,f=void 0,e.prev=19,g=t[Symbol.iterator]();!(l=(m=g.next()).done);l=!0)h=m.value,d=h.id,v=h.vendor,(_=i["".concat(v,"_").concat(d)])?c.push(_):(console.warn("歌曲无法获取详情：".concat(v," ").concat(d)),c.push(null));e.next=27;break;case 23:e.prev=23,e.t1=e.catch(19),p=!0,f=e.t1;case 27:e.prev=27,e.prev=28,l||null==g.return||g.return();case 30:if(e.prev=30,!p){e.next=33;break}throw f;case 33:return e.finish(30);case 34:return e.finish(27);case 35:return e.abrupt("return",c);case 36:case"end":return e.stop()}},e,this,[[19,23,27,35],[28,,30,34]])}));return function(t){return e.apply(this,arguments)}}()}};t.default=function(e){return M(function(e){var t=r(12),n=r(13)(e);return function(){return new t(n)}}(e))}}])});